<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • lintr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://lintr.r-lib.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="lintr.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lintr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">3.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/lintr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/continuous-integration.html">Continuous integration</a></li>
    <li><a class="dropdown-item" href="../articles/creating_linters.html">Creating new linters</a></li>
    <li><a class="dropdown-item" href="../articles/editors.html">Editor setup</a></li>
  </ul></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/07/lintr-3-0-0/">Version 3.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/lintr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/r-lib/lintr/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="lintr-development-version">lintr (development version)<a class="anchor" aria-label="anchor" href="#lintr-development-version"></a></h2>
<div class="section level3">
<h3 id="deprecations--breaking-changes-development-version">Deprecations &amp; breaking changes<a class="anchor" aria-label="anchor" href="#deprecations--breaking-changes-development-version"></a></h3>
<ul><li>Arguments <code>allow_cascading_assign=</code>, <code>allow_right_assign=</code>, and <code>allow_pipe_assign=</code> to <code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> are now defunct.</li>
<li>Six linters marked as deprecated with warning in the previous release are now fully deprecated: <code><a href="../reference/lintr-deprecated.html">consecutive_stopifnot_linter()</a></code>, <code><a href="../reference/lintr-deprecated.html">extraction_operator_linter()</a></code>, <code><a href="../reference/lintr-deprecated.html">no_tab_linter()</a></code>, <code><a href="../reference/lintr-deprecated.html">single_quotes_linter()</a></code>, <code><a href="../reference/lintr-deprecated.html">unnecessary_nested_if_linter()</a></code>, and <code><a href="../reference/lintr-deprecated.html">unneeded_concatenation_linter()</a></code>. They will be removed in the next release.</li>
<li>As previously announced, the following fully-deprecated items are now removed from the package:
<ul><li>
<code>source_file=</code> argument to <code><a href="../reference/ids_with_token.html">ids_with_token()</a></code> and <code><a href="../reference/ids_with_token.html">with_id()</a></code>.</li>
<li>Passing linters by name or as non-<code>"linter"</code>-classed functions.</li>
<li>
<code>linter=</code> argument of <code><a href="../reference/lint-s3.html">Lint()</a></code>.</li>
<li>
<code>with_defaults()</code>.</li>
<li>Linters <code>closed_curly_linter()</code>, <code>open_curly_linter()</code>, <code>paren_brace_linter()</code>, and <code>semicolon_terminator_linter()</code>.</li>
</ul></li>
<li>Argument <code>interpret_glue</code> to <code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> is deprecated in favor of the more general <code>interpret_extensions</code>, in which <code>"glue"</code> is present by default (<a href="https://github.com/r-lib/lintr/issues/1472" class="external-link">#1472</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). See the description below.</li>
<li>The default for <code><a href="../reference/pipe_consistency_linter.html">pipe_consistency_linter()</a></code> is changed from <code>"auto"</code> (require one pipe style, either magrittr or native) to <code>"|&gt;"</code> (R native pipe required) to coincide with the same change in the Tidyverse Style Guide (<a href="https://github.com/r-lib/lintr/issues/2707" class="external-link">#2707</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-development-version">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-development-version"></a></h3>
<ul><li>
<code><a href="../reference/lint-s3.html">Lint()</a></code>, and thus all linters, ensures that the returned object’s <code>message</code> attribute is consistently a simple character string (and not, for example, an object of class <code>"glue"</code>; <a href="https://github.com/r-lib/lintr/issues/2740" class="external-link">#2740</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Files with encoding inferred from settings read more robustly under <code>lint(parse_settings = TRUE)</code> (<a href="https://github.com/r-lib/lintr/issues/2803" class="external-link">#2803</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> no longer errors if <code>"%&lt;&gt;%"</code> is an allowed operator (<a href="https://github.com/r-lib/lintr/issues/2850" class="external-link">#2850</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/condition_call_linter.html">condition_call_linter()</a></code> no longer covers cases where the object type in the ellipsis cannot be determined with certainty (<a href="https://github.com/r-lib/lintr/issues/2888" class="external-link">#2888</a>, <a href="https://github.com/r-lib/lintr/issues/2890" class="external-link">#2890</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>). In particular, this fixes the known false positive of custom conditions created via <code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">errorCondition()</a></code> or <code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">warningCondition()</a></code> not being compatible with the <code>call.</code> argument in <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> or <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-default-linters-development-version">Changes to default linters<a class="anchor" aria-label="anchor" href="#changes-to-default-linters-development-version"></a></h3>
<ul><li>
<code><a href="../reference/pipe_consistency_linter.html">pipe_consistency_linter()</a></code>, with its new default to enforce the native pipe <code>|&gt;</code>, is now a default linter, since it corresponds directly to a rule in the Tidyverse Style Guide (<a href="https://github.com/r-lib/lintr/issues/2707" class="external-link">#2707</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="new-and-improved-features-development-version">New and improved features<a class="anchor" aria-label="anchor" href="#new-and-improved-features-development-version"></a></h3>
<ul><li>
<code><a href="../reference/brace_linter.html">brace_linter()</a></code>’ has a new argument <code>function_bodies</code> (default <code>"multi_line"</code>) which controls when to require function bodies to be wrapped in curly braces, with the options <code>"always"</code>, <code>"multi_line"</code> (only require curly braces when a function body spans multiple lines), <code>"not_inline"</code> (only require curly braces when a function body starts on a new line) and <code>"never"</code> (<a href="https://github.com/r-lib/lintr/issues/1807" class="external-link">#1807</a>, <a href="https://github.com/r-lib/lintr/issues/2240" class="external-link">#2240</a>, <a href="https://github.com/salim-b" class="external-link">@salim-b</a>).</li>
<li>
<code><a href="../reference/seq_linter.html">seq_linter()</a></code>:
<ul><li>recommends using <code>seq_along(x)</code> instead of <code>seq_len(length(x))</code> (<a href="https://github.com/r-lib/lintr/issues/2577" class="external-link">#2577</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>recommends using <code><a href="https://rdrr.io/r/base/sequence.html" class="external-link">sequence()</a></code> instead of <code>unlist(lapply(ints, seq))</code> (<a href="https://github.com/r-lib/lintr/issues/2618" class="external-link">#2618</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>)</li>
</ul></li>
<li>
<code><a href="../reference/undesirable_operator_linter.html">undesirable_operator_linter()</a></code>:
<ul><li>Lints operators in prefix form, e.g. <code>`%%`(x, 2)</code> (<a href="https://github.com/r-lib/lintr/issues/1910" class="external-link">#1910</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Disable this by setting <code>call_is_undesirable=FALSE</code>.</li>
<li>Accepts unnamed entries, treating them as undesirable operators, e.g. <code>undesirable_operator_linter("%%")</code> (<a href="https://github.com/r-lib/lintr/issues/2536" class="external-link">#2536</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/indentation_linter.html">indentation_linter()</a></code> handles <code>for</code> un-braced for loops correctly (<a href="https://github.com/r-lib/lintr/issues/2564" class="external-link">#2564</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Setting <code>exclusions</code> supports globs like <code>knitr*</code> to exclude files/directories with a pattern (<a href="https://github.com/r-lib/lintr/issues/1554" class="external-link">#1554</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code>get_source_expression()</code> captures warnings emitted by the R parser (currently always for mis-specified literal integers like <code>1.1L</code>) and <code><a href="../reference/lint.html">lint()</a></code> returns them as lints (<a href="https://github.com/r-lib/lintr/issues/2065" class="external-link">#2065</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> and <code><a href="../reference/object_length_linter.html">object_length_linter()</a></code> apply to objects assigned with <code><a href="https://rdrr.io/r/base/assign.html" class="external-link">assign()</a></code> or generics created with <code>setGeneric()</code> (<a href="https://github.com/r-lib/lintr/issues/1665" class="external-link">#1665</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> gains argument <code>interpret_extensions</code> to govern which false positive-prone common syntaxes should be checked for used objects (<a href="https://github.com/r-lib/lintr/issues/1472" class="external-link">#1472</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Currently <code>"glue"</code> (renamed from earlier argument <code>interpret_glue</code>) and <code>"rlang"</code> are supported. The latter newly covers usage of the <code>.env</code> pronoun like <code>.env$key</code>, where <code>key</code> was previously missed as being a used variable.</li>
<li>
<code><a href="../reference/boolean_arithmetic_linter.html">boolean_arithmetic_linter()</a></code> finds many more cases like <code>sum(x | y) == 0</code> where the total of a known-logical vector is compared to 0 (<a href="https://github.com/r-lib/lintr/issues/1580" class="external-link">#1580</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/expect_lint.html">expect_lint()</a></code> has a new argument <code>ignore_order</code> (default <code>FALSE</code>), which, if <code>TRUE</code>, allows the <code>checks=</code> to be provided in arbitary order vs. how <code><a href="../reference/lint.html">lint()</a></code> produces them (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/undesirable_function_linter.html">undesirable_function_linter()</a></code> accepts unnamed entries, treating them as undesirable functions, e.g. <code>undesirable_function_linter("sum")</code> (<a href="https://github.com/r-lib/lintr/issues/2536" class="external-link">#2536</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/any_duplicated_linter.html">any_duplicated_linter()</a></code> is extended to recognize some usages from {dplyr} and {data.table} that could be replaced by <code><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">anyDuplicated()</a></code>, e.g. <code>n_distinct(col) == n()</code> or <code>uniqueN(col) == .N</code> (<a href="https://github.com/r-lib/lintr/issues/2482" class="external-link">#2482</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>New <code><a href="../reference/gitlab_output.html">gitlab_output()</a></code> function to output lints to GitLab format (<a href="https://github.com/r-lib/lintr/issues/2858" class="external-link">#2858</a>, <a href="https://github.com/lschneiderbauer" class="external-link">@lschneiderbauer</a>)</li>
<li>
<code><a href="../reference/brace_linter.html">brace_linter()</a></code> requires <code>test_that()</code>’s <code>code=</code> argument to have curly braces (<a href="https://github.com/r-lib/lintr/issues/2292" class="external-link">#2292</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/fixed_regex_linter.html">fixed_regex_linter()</a></code> recognizes usage of the new (R 4.5.0) <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepv()</a></code> wrapper of <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep()</a></code>; <code><a href="../reference/regex_subset_linter.html">regex_subset_linter()</a></code> also recommends <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepv()</a></code> alternatives (<a href="https://github.com/r-lib/lintr/issues/2855" class="external-link">#2855</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> lints missing packages that may cause false positives (<a href="https://github.com/r-lib/lintr/issues/2872" class="external-link">#2872</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</li>
<li>New argument <code>include_s4_slots</code> for the <code>xml_find_function_calls()</code> entry in the <code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> to govern whether calls of the form <code>s4Obj@fun()</code> are included in the result (<a href="https://github.com/r-lib/lintr/issues/2820" class="external-link">#2820</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/sprintf_linter.html">sprintf_linter()</a></code> lints <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code> and <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">gettextf()</a></code> calls when a constant string is passed to <code>fmt</code> (<a href="https://github.com/r-lib/lintr/issues/2894" class="external-link">#2894</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>).</li>
<li>
<code><a href="../reference/use_lintr.html">use_lintr()</a></code> adds the created <code>.lintr</code> file to the <code>.Rbuildignore</code> if run in a package (<a href="https://github.com/r-lib/lintr/issues/2926" class="external-link">#2926</a>, initial work by <a href="https://github.com/MEO265" class="external-link">@MEO265</a>, finalized by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>).</li>
</ul><div class="section level4">
<h4 id="new-linters-development-version">New linters<a class="anchor" aria-label="anchor" href="#new-linters-development-version"></a></h4>
<ul><li>
<code><a href="../reference/all_equal_linter.html">all_equal_linter()</a></code> warns about incorrect use of <code><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal()</a></code> in <code>if</code> clauses or preceded by <code>!</code> (<a href="https://github.com/r-lib/lintr/issues/2885" class="external-link">#2885</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>).</li>
<li>
<code><a href="../reference/download_file_linter.html">download_file_linter()</a></code> encourages the use of <code>mode = "wb"</code> (or <code>mode = "ab"</code>) when using <code><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file()</a></code>, rather than <code>mode = "w"</code> or <code>mode = "a"</code>, as the latter can produce broken files in Windows (<a href="https://github.com/r-lib/lintr/issues/2882" class="external-link">#2882</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>).</li>
<li>
<code>lint2df_linter()</code> encourages the use of the <code><a href="https://rdrr.io/r/base/list2DF.html" class="external-link">list2DF()</a></code> function, or the <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> function when recycling is required, over the slower and less readable <code>do.call(cbind.data.frame, )</code> alternative (<a href="https://github.com/r-lib/lintr/issues/2834" class="external-link">#2834</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>).</li>
<li>
<code><a href="../reference/coalesce_linter.html">coalesce_linter()</a></code> encourages the use of the infix operator <code>x %||% y</code>, which is equivalent to <code>if (is.null(x)) y else x</code> (<a href="https://github.com/r-lib/lintr/issues/2246" class="external-link">#2246</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). While this has long been used in many tidyverse packages (it was added to {ggplot2} in 2008), it became part of every R installation from R 4.4.0. Thanks also to <a href="https://github.com/emmanuel-ferdman" class="external-link">@emmanuel-ferdman</a> for fixing a false positive before release.</li>
</ul></div>
<div class="section level4">
<h4 id="lint-accuracy-fixes-removing-false-positives-development-version">Lint accuracy fixes: removing false positives<a class="anchor" aria-label="anchor" href="#lint-accuracy-fixes-removing-false-positives-development-version"></a></h4>
<ul><li>
<code><a href="../reference/unnecessary_nesting_linter.html">unnecessary_nesting_linter()</a></code>:
<ul><li>Treats function bodies under the shorthand lambda (<code>\()</code>) the same as normal function bodies (<a href="https://github.com/r-lib/lintr/issues/2748" class="external-link">#2748</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Treats <code>=</code> assignment the same as <code>&lt;-</code> when deciding to combine consecutive <code>if()</code> clauses (<a href="https://github.com/r-lib/lintr/issues/2245" class="external-link">#2245</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/unnecessary_nesting_linter.html">unnecessary_nesting_linter()</a></code> treats function bodies under the shorthand lambda (<code>\()</code>) the same as normal function bodies (<a href="https://github.com/r-lib/lintr/issues/2748" class="external-link">#2748</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/string_boundary_linter.html">string_boundary_linter()</a></code> omits lints of patterns like <code>\\^</code> which have an anchor but are not regular expressions (<a href="https://github.com/r-lib/lintr/issues/2636" class="external-link">#2636</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code>implicit_integer_linter(allow_colon = TRUE)</code> is OK with negative literals, e.g. <code>-1:1</code> or <code>1:-1</code> (<a href="https://github.com/r-lib/lintr/issues/2673" class="external-link">#2673</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/missing_argument_linter.html">missing_argument_linter()</a></code> allows empty calls like <code>foo()</code> even if there are comments between <code>(</code> and <code>)</code> (<a href="https://github.com/r-lib/lintr/issues/2741" class="external-link">#2741</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/return_linter.html">return_linter()</a></code> works on functions that happen to use braced expressions in their formals (<a href="https://github.com/r-lib/lintr/issues/2616" class="external-link">#2616</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> and <code><a href="../reference/object_length_linter.html">object_length_linter()</a></code> account for S3 class correctly when the generic is assigned with <code>=</code> (<a href="https://github.com/r-lib/lintr/issues/2507" class="external-link">#2507</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> with <code>operator = "="</code> does a better job of skipping implicit assignments, which are intended to be governed by <code><a href="../reference/implicit_assignment_linter.html">implicit_assignment_linter()</a></code> (<a href="https://github.com/r-lib/lintr/issues/2765" class="external-link">#2765</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/expect_true_false_linter.html">expect_true_false_linter()</a></code> is pipe-aware, so that <code>42 |&gt; expect_identical(x, ignore_attr = TRUE)</code> no longer lints (<a href="https://github.com/r-lib/lintr/issues/1520" class="external-link">#1520</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/T_and_F_symbol_linter.html">T_and_F_symbol_linter()</a></code> ignores <code>T</code> and <code>F</code> used as symbols in formulas (<code>y ~ T + F</code>), which can represent variables in data not controlled by the author (<a href="https://github.com/r-lib/lintr/issues/2637" class="external-link">#2637</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/T_and_F_symbol_linter.html">T_and_F_symbol_linter()</a></code> ignores <code>T</code> and <code>F</code> if followed by <code>[</code> or <code>[[</code> (<a href="https://github.com/r-lib/lintr/issues/2944" class="external-link">#2944</a>, <a href="https://github.com/mcol" class="external-link">@mcol</a>).</li>
<li>
<code><a href="../reference/implicit_assignment_linter.html">implicit_assignment_linter()</a></code> with <code>allow_scoped=TRUE</code> doesn’t lint for <code>if (a &lt;- 1) print(a)</code> (<a href="https://github.com/r-lib/lintr/issues/2913" class="external-link">#2913</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="lint-accuracy-fixes-removing-false-negatives-development-version">Lint accuracy fixes: removing false negatives<a class="anchor" aria-label="anchor" href="#lint-accuracy-fixes-removing-false-negatives-development-version"></a></h4>
<ul><li>
<code><a href="../reference/todo_comment_linter.html">todo_comment_linter()</a></code> finds comments inside {roxygen2} markup comments (<a href="https://github.com/r-lib/lintr/issues/2447" class="external-link">#2447</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Linters with logic around function declarations consistently include the R 4.0.0 shorthand <code>\()</code> (<a href="https://github.com/r-lib/lintr/issues/2818" class="external-link">#2818</a>, continuation of earlier <a href="https://github.com/r-lib/lintr/issues/2190" class="external-link">#2190</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).
<ul><li><code><a href="../reference/library_call_linter.html">library_call_linter()</a></code></li>
<li><code><a href="../reference/terminal_close_linter.html">terminal_close_linter()</a></code></li>
<li><code><a href="../reference/unnecessary_lambda_linter.html">unnecessary_lambda_linter()</a></code></li>
</ul></li>
<li>More consistency on handling <code>@</code> extractions (<a href="https://github.com/r-lib/lintr/issues/2820" class="external-link">#2820</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).
<ul><li><code><a href="../reference/function_left_parentheses_linter.html">function_left_parentheses_linter()</a></code></li>
<li><code><a href="../reference/indentation_linter.html">indentation_linter()</a></code></li>
<li><code><a href="../reference/library_call_linter.html">library_call_linter()</a></code></li>
<li><code><a href="../reference/missing_argument_linter.html">missing_argument_linter()</a></code></li>
</ul></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="notes-development-version">Notes<a class="anchor" aria-label="anchor" href="#notes-development-version"></a></h3>
<ul><li>
<a href="https://lintr.r-lib.org">lintr</a> now has an associated paper at the <a href="https://doi.org/10.21105/joss.07240" class="external-link">Journal of Open Source Software</a> that you can use to cite the package if you use it in a paper - see citation(“lintr”) for details.</li>
<li>
<code><a href="../reference/expect_lint_free.html">expect_lint_free()</a></code> and other functions that rely on the {testthat} framework now have a consistent error message. (<a href="https://github.com/r-lib/lintr/issues/2585" class="external-link">#2585</a>, <a href="https://github.com/F-Noelle" class="external-link">@F-Noelle</a>).</li>
<li>
<code><a href="../reference/unnecessary_nesting_linter.html">unnecessary_nesting_linter()</a></code> gives a more specific lint message identifying:
<ul><li>the unmatched “exit call” that prompts the recommendation to reduce nesting (<a href="https://github.com/r-lib/lintr/issues/2316" class="external-link">#2316</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>the specific <code>if()</code> statement that can be combined with the linted one (<a href="https://github.com/r-lib/lintr/issues/1891" class="external-link">#1891</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>The description in <code><a href="../reference/paste_linter.html">?paste_linter</a></code> of <code>allow_file_path=</code> has been corrected (<a href="https://github.com/r-lib/lintr/issues/2675" class="external-link">#2675</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). In particular, <code>allow_file_path="never"</code> is the most strict form, <code>allow_file_path="always"</code> is the most lax form.</li>
<li>
<code>comment_token</code> is removed from settings. This was a vestige of the now-defunct support for posting GitHub comments.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.2.0" id="lintr-320">lintr 3.2.0<a class="anchor" aria-label="anchor" href="#lintr-320"></a></h2><p class="text-muted">CRAN release: 2025-02-12</p>
<div class="section level3">
<h3 id="deprecations--breaking-changes-3-2-0">Deprecations &amp; breaking changes<a class="anchor" aria-label="anchor" href="#deprecations--breaking-changes-3-2-0"></a></h3>
<ul><li>Various things marked deprecated since {lintr} 3.0.0 have been fully deprecated. They will be completely removed in the subsequent release. See previous NEWS for advice on how to replace them.
<ul><li>
<code>source_file=</code> argument to <code><a href="../reference/ids_with_token.html">ids_with_token()</a></code> and <code><a href="../reference/ids_with_token.html">with_id()</a></code>.</li>
<li>Passing linters by name or as non-<code>"linter"</code>-classed functions.</li>
<li>
<code>linter=</code> argument of <code><a href="../reference/lint-s3.html">Lint()</a></code>.</li>
<li>
<code>with_defaults()</code>.</li>
<li>Linters <code>closed_curly_linter()</code>, <code>open_curly_linter()</code>, <code>paren_brace_linter()</code>, and <code>semicolon_terminator_linter()</code>.</li>
<li>Helper <code>with_defaults()</code>.</li>
</ul></li>
<li>
<code><a href="../reference/all_linters.html">all_linters()</a></code> has signature <code>all_linters(..., packages)</code> rather than <code>all_linters(packages, ...)</code> (<a href="https://github.com/r-lib/lintr/issues/2332" class="external-link">#2332</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). This forces <code>packages=</code> to be supplied by name and will break users who rely on supplying <code>packages=</code> positionally, of which we found none searching GitHub.</li>
<li>Adjusted various lint messages for consistency and readability (<a href="https://github.com/r-lib/lintr/issues/1330" class="external-link">#1330</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). In general, we favor lint messages to be phrased like “Action, reason” to put the “what” piece of the message front-and-center. This may be a breaking change for code that tests the specific phrasing of lints.</li>
<li>
<code><a href="../reference/lintr-deprecated.html">extraction_operator_linter()</a></code> is deprecated. Although switching from <code>$</code> to <code>[[</code> has some robustness benefits for package code, it can lead to non-idiomatic code in many contexts (e.g. R6 classes, Shiny applications, etc.) (<a href="https://github.com/r-lib/lintr/issues/2409" class="external-link">#2409</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>). One reason to avoid <code>$</code> is that it allows partial matching where <code>[[</code> does not. Use <code>options(warnPartialMatchDollar = TRUE)</code> to disable this feature and restore some parity to using <code>$</code> vs. <code>[[</code>.</li>
<li>
<code><a href="../reference/lintr-deprecated.html">unnecessary_nested_if_linter()</a></code> is deprecated and subsumed into the new/more general <code><a href="../reference/unnecessary_nesting_linter.html">unnecessary_nesting_linter()</a></code>.</li>
<li>Dropped support for posting GitHub comments from inside GitHub comment bot, Travis, Wercker, and Jenkins CI tools (spurred by <a href="https://github.com/r-lib/lintr/issues/2148" class="external-link">#2148</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). We rely on GitHub Actions for linting in CI, and don’t see any active users relying on these alternatives. We welcome and encourage community contributions to get support for different CI systems going again.</li>
<li>
<code><a href="../reference/cyclocomp_linter.html">cyclocomp_linter()</a></code> is no longer part of the default linters (<a href="https://github.com/r-lib/lintr/issues/2555" class="external-link">#2555</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>) because the tidyverse style guide doesn’t contain any guidelines on meeting certain complexity requirements. With this, we also downgrade {cyclocomp} from <code>Imports:</code> to <code>Suggests:</code>. Note that users with <code><a href="../reference/cyclocomp_linter.html">cyclocomp_linter()</a></code> in their configs may now need to install {cyclocomp} intentionally, in particular in CI/CD pipelines.</li>
<li>
<code><a href="../reference/scalar_in_linter.html">scalar_in_linter()</a></code> is now configurable to allow other <code>%in%</code>-like operators to be linted. The data.table operator <code>%chin%</code> is no longer linted by default; use <code>in_operators = "%chin%"</code> to continue linting it. (<a href="https://github.com/F-Noelle" class="external-link">@F-Noelle</a>)</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code> and friends now normalize paths to forward slashes on Windows (<a href="https://github.com/olivroy" class="external-link">@olivroy</a>, <a href="https://github.com/r-lib/lintr/issues/2613" class="external-link">#2613</a>).</li>
<li>
<code><a href="../reference/undesirable_function_linter.html">undesirable_function_linter()</a></code>, <code><a href="../reference/undesirable_operator_linter.html">undesirable_operator_linter()</a></code>, and <code><a href="../reference/list_comparison_linter.html">list_comparison_linter()</a></code> were removed from the tag <code>efficiency</code> (<a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>, <a href="https://github.com/r-lib/lintr/issues/2655" class="external-link">#2655</a>). If you use <code>linters_with_tags("efficiency")</code> to include these linters, you’ll need to adjust your config to keep linting your code against them. We did not find any such users on GitHub.</li>
<li>Arguments <code>allow_cascading_assign=</code>, <code>allow_right_assign=</code>, and <code>allow_pipe_assign=</code> to <code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> are all deprecated in favor of the new <code>operator=</code> argument. Usage of a positional first argument like <code>assignment_linter(TRUE)</code>, of which we found zero cases on GitHub, is totally deprecated to allow <code>operator=</code> to be positionally first. See below about the new argument.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-3-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-3-2-0"></a></h3>
<ul><li>
<code><a href="../reference/expect_identical_linter.html">expect_identical_linter()</a></code> also skips <code>expect_equal()</code> comparison to <em>negative</em> non-integers like <code>-1.034</code> (<a href="https://github.com/r-lib/lintr/issues/2411" class="external-link">#2411</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>). This is a parity fix since <em>positive</em> reals have always been skipped because “high-precision” comparisons are typically done to get tests within <code>tolerance</code>, so <code>expect_identical()</code> is not a great substitution.</li>
<li>
<code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> no longer errors when user-supplied <code>regexes=</code> have capture groups (<a href="https://github.com/r-lib/lintr/issues/2188" class="external-link">#2188</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code>.lintr</code> config validation correctly accepts regular expressions which only compile under <code>perl = TRUE</code> (<a href="https://github.com/r-lib/lintr/issues/2375" class="external-link">#2375</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). These have always been valid (since <code><a href="https://rdrr.io/pkg/rex/man/re_matches.html" class="external-link">rex::re_matches()</a></code>, which powers the lint exclusion logic, also uses this setting), but the new up-front validation in v3.1.1 incorrectly used <code>perl = FALSE</code>.</li>
<li>
<code>.lintr</code> configs set by option <code>lintr.linter_file</code> or environment variable <code>R_LINTR_LINTER_FILE</code> can point to subdirectories (<a href="https://github.com/r-lib/lintr/issues/2512" class="external-link">#2512</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/indentation_linter.html">indentation_linter()</a></code> returns lints with <code>ranges[1L]==1L</code> when the offending line has 0 spaces (<a href="https://github.com/r-lib/lintr/issues/2550" class="external-link">#2550</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/literal_coercion_linter.html">literal_coercion_linter()</a></code> doesn’t surface a warning about <code>NA</code>s during coercion for code like <code>as.integer("a")</code> (<a href="https://github.com/r-lib/lintr/issues/2566" class="external-link">#2566</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-default-linters-3-2-0">Changes to default linters<a class="anchor" aria-label="anchor" href="#changes-to-default-linters-3-2-0"></a></h3>
<ul><li>New default linter <code><a href="../reference/return_linter.html">return_linter()</a></code> for the style guide rule that terminal returns should be left implicit (<a href="https://github.com/r-lib/lintr/issues/1100" class="external-link">#1100</a>, <a href="https://github.com/r-lib/lintr/issues/2343" class="external-link">#2343</a>, <a href="https://github.com/r-lib/lintr/issues/2354" class="external-link">#2354</a>, and <a href="https://github.com/r-lib/lintr/issues/2356" class="external-link">#2356</a>, <a href="https://github.com/MEO265" class="external-link">@MEO265</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="new-and-improved-features-3-2-0">New and improved features<a class="anchor" aria-label="anchor" href="#new-and-improved-features-3-2-0"></a></h3>
<ul><li>New function node caching for big efficiency gains to most linters (e.g. overall <code><a href="../reference/lint.html">lint_package()</a></code> improvement of 14-27% and core linting improvement up to 30%; <a href="https://github.com/r-lib/lintr/issues/2357" class="external-link">#2357</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>). Most linters are written around function usage, and XPath performance searching for many functions is poor. The new <code>xml_find_function_calls()</code> entry in the <code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> output caches all function call nodes instead. See the vignette on creating linters for more details on how to use it.</li>
<li>
<code><a href="../reference/Linter.html">Linter()</a></code> has a new argument <code>linter_level=</code> (default <code>NA</code>). This is used by <code><a href="../reference/lint.html">lint()</a></code> to more efficiently check for expression levels than the idiom <code>if (!is_lint_level(...)) { return(list()) }</code> (<a href="https://github.com/r-lib/lintr/issues/2351" class="external-link">#2351</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>New <code><a href="../reference/return_linter.html">return_linter()</a></code> also has arguments for fine-tuning which functions get linted:
<ul><li>
<code>return_style=</code> (<code>"implicit"</code> by default) which checks that all functions confirm to the specified return style of <code>"implicit"</code> or <code>"explicit"</code> (<a href="https://github.com/r-lib/lintr/issues/2271" class="external-link">#2271</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a> and <a href="https://github.com/MEO265" class="external-link">@MEO265</a>).</li>
<li>
<code>allow_implicit_else=</code> (default <code>TRUE</code>) which, when <code>FALSE</code>, checks that all terminal <code>if</code> statements are paired with a corresponding <code>else</code> statement (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code>return_functions=</code> to customize which functions are equivalent to <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> as “exit” clauses, e.g. <code><a href="https://rlang.r-lib.org/reference/abort.html" class="external-link">rlang::abort()</a></code> can be considered in addition to the default functions like <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> and <code><a href="https://rdrr.io/r/base/quit.html" class="external-link">q()</a></code> from base (<a href="https://github.com/r-lib/lintr/issues/2271" class="external-link">#2271</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/MEO265" class="external-link">@MEO265</a>).</li>
<li>
<code>except=</code> to customize which functions are ignored entirely (i.e., whether they have a return of the specified style is not checked; <a href="https://github.com/r-lib/lintr/issues/2271" class="external-link">#2271</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/MEO265" class="external-link">@MEO265</a>). Namespace hooks like <code>.onAttach()</code> and <code>.onLoad()</code> are always ignored.</li>
<li>
<code>except_regex=</code>, the same purpose as <code>except=</code>, but filters functions by pattern. This is motivated by {RUnit}, where test suites are based on unit test functions matched by pattern, e.g. <code>^Test</code>, and where explicit return may be awkward (<a href="https://github.com/r-lib/lintr/issues/2335" class="external-link">#2335</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> can be fully customized with the new <code>operator=</code> argument to specify an exact vector of assignment operators to allow (<a href="https://github.com/r-lib/lintr/issues/2441" class="external-link">#2441</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/J-Moravec" class="external-link">@J-Moravec</a>). The default is <code>&lt;-</code> and <code>&lt;&lt;-</code>; authors wishing to use <code>=</code> (only) for assignment in their codebase can use <code>operator = "="</code>. This supersedes several old arguments: to accomplish <code>allow_cascading_assign=TRUE</code>, add <code>"&lt;&lt;-"</code> (and/or <code>"-&gt;&gt;"</code>) to <code>operator=</code>; for <code>allow_right_assign=TRUE</code>, add <code>"-&gt;"</code> (and/or <code>"-&gt;&gt;"</code>) to <code>operator=</code>; for <code>allow_pipe_assign=TRUE</code>, add <code>"%&lt;&gt;%"</code> to <code>operator=</code>. Use <code>operator = "any"</code> to denote “ignore all assignment operators”; in this case, only the value of <code>allow_trailing=</code> matters. Implicit assignments with <code>&lt;-</code> are always ignored by <code><a href="../reference/assignment_linter.html">assignment_linter()</a></code>; use <code><a href="../reference/implicit_assignment_linter.html">implicit_assignment_linter()</a></code> to handle linting these.</li>
<li>More helpful errors for invalid configs (<a href="https://github.com/r-lib/lintr/issues/2253" class="external-link">#2253</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/library_call_linter.html">library_call_linter()</a></code> is extended
<ul><li>to encourage all packages to be attached with <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(symbol)</a></code>, not <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library("symbol", character.only = TRUE)</a></code> or “vectorized” approaches looping over package names (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>to discourage many consecutive calls to <code><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages()</a></code> or <code><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages()</a></code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/unnecessary_lambda_linter.html">unnecessary_lambda_linter()</a></code> is extended to encourage vectorized comparisons where possible, e.g. <code>sapply(x, sum) &gt; 0</code> instead of <code>sapply(x, function(x) sum(x) &gt; 0)</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Toggle this behavior with argument <code>allow_comparison=</code>.</li>
<li>
<code><a href="../reference/backport_linter.html">backport_linter()</a></code> is slightly faster by moving expensive computations outside the linting function (<a href="https://github.com/r-lib/lintr/issues/2339" class="external-link">#2339</a>, <a href="https://github.com/r-lib/lintr/issues/2348" class="external-link">#2348</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/string_boundary_linter.html">string_boundary_linter()</a></code> recognizes regular expression calls like <code>grepl("^abc$", x)</code> that can be replaced by using <code>==</code> instead (<a href="https://github.com/r-lib/lintr/issues/1613" class="external-link">#1613</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code> has an argument <code>allow_comment_regex=</code> for customizing which “terminal” comments to exclude (<a href="https://github.com/r-lib/lintr/issues/2327" class="external-link">#2327</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Exclusion comments from {lintr} and {covr} (e.g. <code># nocov end</code>) are always excluded.</li>
<li>
<code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> and <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> methods for <code>lint</code> and <code>lints</code> classes get a new option <code>width=</code> to control the printing width of lint messages (<a href="https://github.com/r-lib/lintr/issues/1884" class="external-link">#1884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). The default is controlled by a new option <code>lintr.format_width</code>; if unset, no wrapping occurs (matching earlier behavior).</li>
<li>
<code><a href="../reference/implicit_assignment_linter.html">implicit_assignment_linter()</a></code> gets a custom message for the case of using <code>(</code> to induce printing like <code>(x &lt;- foo())</code>; use an explicit call to <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> for clarity (<a href="https://github.com/r-lib/lintr/issues/2257" class="external-link">#2257</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/todo_comment_linter.html">todo_comment_linter()</a></code> has a new argument <code>except_regex=</code> for setting <em>valid</em> TODO comments, e.g. for forcing TODO comments to be linked to GitHub issues like <code>TODO(<a href="https://github.com/r-lib/lintr/issues/154" class="external-link">#154</a>)</code> (<a href="https://github.com/r-lib/lintr/issues/2047" class="external-link">#2047</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/vector_logic_linter.html">vector_logic_linter()</a></code> is extended to recognize incorrect usage of scalar operators <code>&amp;&amp;</code> and <code>||</code> inside subsetting expressions like <code>dplyr::filter(x, A &amp;&amp; B)</code> (<a href="https://github.com/r-lib/lintr/issues/2166" class="external-link">#2166</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/any_is_na_linter.html">any_is_na_linter()</a></code> is extended to catch the unusual usage <code>NA %in% x</code> (<a href="https://github.com/r-lib/lintr/issues/2113" class="external-link">#2113</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/make_linter_from_xpath.html">make_linter_from_xpath()</a></code> errors up front when <code>lint_message=</code> is missing (instead of delaying this error until the linter is used, <a href="https://github.com/r-lib/lintr/issues/2541" class="external-link">#2541</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/paste_linter.html">paste_linter()</a></code> is extended to recommend using <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste()</a></code> instead of <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code> for simply aggregating a character vector with <code>collapse=</code>, i.e., when <code>sep=</code> is irrelevant (<a href="https://github.com/r-lib/lintr/issues/1108" class="external-link">#1108</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/expect_lint.html">expect_no_lint()</a></code> was added as new function to cover the typical use case of expecting no lint message, akin to the recent {testthat} functions like <code>expect_no_warning()</code> (<a href="https://github.com/r-lib/lintr/issues/2580" class="external-link">#2580</a>, <a href="https://github.com/F-Noelle" class="external-link">@F-Noelle</a>).</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code> and friends emit a message if no lints are found (<a href="https://github.com/r-lib/lintr/issues/2643" class="external-link">#2643</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</li>
<li>
<code><a href="../reference/commented_code_linter.html">commented_code_linter()</a></code> can detect commented code that ends with a pipe (<a href="https://github.com/r-lib/lintr/issues/2671" class="external-link">#2671</a>, <a href="https://github.com/jcken95" class="external-link">@jcken95</a>)</li>
</ul><div class="section level4">
<h4 id="new-linters-3-2-0">New linters<a class="anchor" aria-label="anchor" href="#new-linters-3-2-0"></a></h4>
<ul><li>
<code><a href="../reference/condition_call_linter.html">condition_call_linter()</a></code> for ensuring consistent use of <code>call.</code> in <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code> and <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code>. The default <code>call. = FALSE</code> follows the tidyverse guidance of not displaying the call (<a href="https://github.com/r-lib/lintr/issues/2226" class="external-link">#2226</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>)</li>
<li>
<code><a href="../reference/sample_int_linter.html">sample_int_linter()</a></code> for encouraging <code>sample.int(n, ...)</code> over equivalents like <code>sample(1:n, ...)</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/stopifnot_all_linter.html">stopifnot_all_linter()</a></code> discourages tests with <code><a href="https://rdrr.io/r/base/all.html" class="external-link">all()</a></code> like <code>stopifnot(all(x &gt; 0))</code>; <code><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot()</a></code> runs <code><a href="https://rdrr.io/r/base/all.html" class="external-link">all()</a></code> itself, and signals a better error message (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/comparison_negation_linter.html">comparison_negation_linter()</a></code> for discouraging negated comparisons when a direct negation is preferable, e.g. <code>!(x == y)</code> could be <code>x != y</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/nzchar_linter.html">nzchar_linter()</a></code> for encouraging <code><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nzchar()</a></code> to test for empty strings, e.g. <code>nchar(x) &gt; 0</code> can be <code>nzchar(x)</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/terminal_close_linter.html">terminal_close_linter()</a></code> for discouraging using <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">close()</a></code> to end functions (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Such usages are not robust to errors, where <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">close()</a></code> will not be run as intended. Put <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">close()</a></code> in an <code><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit()</a></code> hook, or use {withr} to manage connections with proper cleanup.</li>
<li>
<code><a href="../reference/rep_len_linter.html">rep_len_linter()</a></code> for encouraging use of <code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep_len()</a></code> directly instead of <code>rep(x, length.out = n)</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Note that in older versions of R (e.g. pre-4.0), <code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep_len()</a></code> may not copy attributes as expected.</li>
<li>
<code><a href="../reference/which_grepl_linter.html">which_grepl_linter()</a></code> for discouraging <code>which(grepl(ptn, x))</code> in favor of directly using <code>grep(ptn, x)</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/list_comparison_linter.html">list_comparison_linter()</a></code> for discouraging comparisons on the output of <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>, e.g. <code>lapply(x, sum) &gt; 10</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/print_linter.html">print_linter()</a></code> for discouraging usage of <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> on string literals like <code>print("Reached here")</code> or <code>print(paste("Found", nrow(DF), "rows."))</code> (<a href="https://github.com/r-lib/lintr/issues/1894" class="external-link">#1894</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/unnecessary_nesting_linter.html">unnecessary_nesting_linter()</a></code> for discouraging overly-nested code where an early return or eliminated sub-expression (inside <code>{</code>) is preferable (<a href="https://github.com/r-lib/lintr/issues/2317" class="external-link">#2317</a>, <a href="https://github.com/r-lib/lintr/issues/2334" class="external-link">#2334</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/consecutive_mutate_linter.html">consecutive_mutate_linter()</a></code> for encouraging consecutive calls to <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code> to be combined (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/if_switch_linter.html">if_switch_linter()</a></code> for encouraging <code><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch()</a></code> over repeated <code>if</code>/<code>else</code> tests (<a href="https://github.com/r-lib/lintr/issues/2322" class="external-link">#2322</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/nested_pipe_linter.html">nested_pipe_linter()</a></code> for discouraging pipes within pipes, e.g. <code>df1 %&gt;% inner_join(df2 %&gt;% select(a, b))</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/nrow_subset_linter.html">nrow_subset_linter()</a></code> for discouraging usage like <code>nrow(subset(x, conditions))</code> in favor of something like <code>with(x, sum(conditions))</code> which doesn’t require a full subset of <code>x</code> (<a href="https://github.com/r-lib/lintr/issues/2313" class="external-link">#2313</a>, <a href="https://github.com/r-lib/lintr/issues/2314" class="external-link">#2314</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/pipe_return_linter.html">pipe_return_linter()</a></code> for discouraging usage of <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> inside a {magrittr} pipeline (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/one_call_pipe_linter.html">one_call_pipe_linter()</a></code> for discouraging one-step pipelines like <code>x |&gt; as.character()</code> (<a href="https://github.com/r-lib/lintr/issues/2330" class="external-link">#2330</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/object_overwrite_linter.html">object_overwrite_linter()</a></code> for discouraging re-use of upstream package exports as local variables (<a href="https://github.com/r-lib/lintr/issues/2344" class="external-link">#2344</a>, <a href="https://github.com/r-lib/lintr/issues/2346" class="external-link">#2346</a> and part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="lint-accuracy-fixes-removing-false-positives-3-2-0">Lint accuracy fixes: removing false positives<a class="anchor" aria-label="anchor" href="#lint-accuracy-fixes-removing-false-positives-3-2-0"></a></h4>
<ul><li>
<code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> and <code><a href="../reference/object_length_linter.html">object_length_linter()</a></code> ignore {rlang} name injection like <code>x |&gt; mutate("{new_name}" := foo(col))</code> (<a href="https://github.com/r-lib/lintr/issues/1926" class="external-link">#1926</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). No checking is applied in such cases. {data.table} in-place assignments like <code>DT[, "sPoNGeBob" := "friend"]</code> are still eligible for lints.</li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> finds global variables assigned with <code>=</code> or <code>-&gt;</code>, which avoids some issues around “undefined global variables” in scripts (<a href="https://github.com/r-lib/lintr/issues/2654" class="external-link">#2654</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="notes-3-2-0">Notes<a class="anchor" aria-label="anchor" href="#notes-3-2-0"></a></h3>
<ul><li>
<a href="https://lintr.r-lib.org">lintr</a> now has a hex sticker (<a href="https://github.com/rstudio/hex-stickers/pull/110" class="external-link uri">https://github.com/rstudio/hex-stickers/pull/110</a>). Thank you, <a href="https://github.com/gregswinehart" class="external-link">@gregswinehart</a>!</li>
<li>All user-facing messages (including progress bars) are now prepared using the <a href="https://cli.r-lib.org" class="external-link">cli</a> package (<a href="https://github.com/r-lib/lintr/issues/2418" class="external-link">#2418</a> and <a href="https://github.com/r-lib/lintr/issues/2641" class="external-link">#2641</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>). As noted above, all messages have been reviewed and updated to be more informative and consistent.</li>
<li>File locations in lints and error messages contain clickable hyperlinks to improve code navigation (<a href="https://github.com/r-lib/lintr/issues/2645" class="external-link">#2645</a>, <a href="https://github.com/r-lib/lintr/issues/2588" class="external-link">#2588</a>, <a href="https://github.com/olivroy" class="external-link">@olivroy</a>).</li>
<li>{lintr} now depends on R version 4.0.0. It already does so implicitly due to recursive upstream dependencies requiring this version; we’ve simply made that dependency explicit and up-front (<a href="https://github.com/r-lib/lintr/issues/2569" class="external-link">#2569</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Some code with parameters accepting regular expressions is less strict about whether there are capture groups (<a href="https://github.com/r-lib/lintr/issues/2678" class="external-link">#2678</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). In particular, this affects <code>unreachable_code_linter(allow_comment_regex=)</code> and <code>expect_lint(checks=)</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.1.2" id="lintr-312">lintr 3.1.2<a class="anchor" aria-label="anchor" href="#lintr-312"></a></h2><p class="text-muted">CRAN release: 2024-03-25</p>
<div class="section level3">
<h3 id="new-and-improved-features-3-1-2">New and improved features<a class="anchor" aria-label="anchor" href="#new-and-improved-features-3-1-2"></a></h3>
<div class="section level4">
<h4 id="lint-accuracy-fixes-removing-false-positives-3-1-2">Lint accuracy fixes: removing false positives<a class="anchor" aria-label="anchor" href="#lint-accuracy-fixes-removing-false-positives-3-1-2"></a></h4>
<ul><li>
<code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code> ignores reachable code in inline functions like <code>function(x) if (x &gt; 2) stop() else x</code> (<a href="https://github.com/r-lib/lintr/issues/2259" class="external-link">#2259</a>, <a href="https://github.com/MEO265" class="external-link">@MEO265</a>).</li>
<li>
<code><a href="../reference/unnecessary_lambda_linter.html">unnecessary_lambda_linter()</a></code>
<ul><li>ignores extractions with explicit returns like <code>lapply(l, function(x) foo(x)$bar)</code> (<a href="https://github.com/r-lib/lintr/issues/2258" class="external-link">#2258</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>ignores calls on the RHS of operators like <code>lapply(l, function(x) "a" %in% names(x))</code> (<a href="https://github.com/r-lib/lintr/issues/2310" class="external-link">#2310</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/vector_logic_linter.html">vector_logic_linter()</a></code> recognizes some cases where bitwise <code>&amp;</code>/<code>|</code> are used correctly (<a href="https://github.com/r-lib/lintr/issues/1453" class="external-link">#1453</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/expect_comparison_linter.html">expect_comparison_linter()</a></code> ignores faulty usage like <code>expect_true(x, y &gt; z)</code> (<a href="https://github.com/r-lib/lintr/issues/2083" class="external-link">#2083</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Note that <code>y &gt; z</code> is being passed to the <code>info=</code> argument, so this is likely a mistake.</li>
<li>
<code><a href="../reference/consecutive_assertion_linter.html">consecutive_assertion_linter()</a></code> ignores cases where a second assertion follows an intervening assignment with <code>=</code> (<a href="https://github.com/r-lib/lintr/issues/2444" class="external-link">#2444</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="lint-accuracy-fixes-removing-false-negatives-3-1-2">Lint accuracy fixes: removing false negatives<a class="anchor" aria-label="anchor" href="#lint-accuracy-fixes-removing-false-negatives-3-1-2"></a></h4>
<ul><li>
<code><a href="../reference/missing_argument_linter.html">missing_argument_linter()</a></code> catches all missing arguments in calls with several, e.g. <code>foo(,,)</code> gives 3 lints instead of 2 (<a href="https://github.com/r-lib/lintr/issues/2399" class="external-link">#2399</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/duplicate_argument_linter.html">duplicate_argument_linter()</a></code> no longer misses cases with duplicate arguments where a comment comes between the argument name and <code>=</code> (<a href="https://github.com/r-lib/lintr/issues/2402" class="external-link">#2402</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="notes-3-1-2">Notes<a class="anchor" aria-label="anchor" href="#notes-3-1-2"></a></h3>
<ul><li>Fixed a test assuming a specific parser error message that recently changed in r-devel (<a href="https://github.com/r-lib/lintr/issues/2527" class="external-link">#2527</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</li>
<li>@MichaelChirico has taken over CRAN maintainer duties for the package. Many thanks to <a href="https://github.com/jimhester" class="external-link">@jimhester</a> for more than 10 years and 15 releases wearing that hat!!</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.1.1" id="lintr-311">lintr 3.1.1<a class="anchor" aria-label="anchor" href="#lintr-311"></a></h2><p class="text-muted">CRAN release: 2023-11-07</p>
<div class="section level3">
<h3 id="breaking-changes-3-1-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-3-1-1"></a></h3>
<ul><li>
<code><a href="../reference/infix_spaces_linter.html">infix_spaces_linter()</a></code> distinguishes <code>&lt;-</code>, <code>:=</code>, <code>&lt;&lt;-</code> and <code>-&gt;</code>, <code>-&gt;&gt;</code>, i.e. <code>infix_spaces_linter(exclude_operators = "-&gt;")</code> will no longer exclude <code>-&gt;&gt;</code> (<a href="https://github.com/r-lib/lintr/issues/2115" class="external-link">#2115</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). This change is breaking for users relying on manually-supplied <code>exclude_operators</code> containing <code>"&lt;-"</code> to also exclude <code>:=</code> and <code>&lt;&lt;-</code>. The fix is to manually supply <code>":="</code> and <code>"&lt;&lt;-"</code> as well. We don’t expect this change to affect many users, the fix is simple, and the new behavior is much more transparent, so we are including this breakage in a minor release.</li>
<li>Removed <code>find_line()</code> and <code>find_column()</code> entries from <code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> expression-level objects. These have been marked deprecated since version 3.0.0. No users were found on GitHub.</li>
<li>There is experimental support for writing config in plain R scripts (as opposed to DCF files; <a href="https://github.com/r-lib/lintr/issues/1210" class="external-link">#1210</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). The script is run in a new environment and variables matching settings (<code><a href="../reference/default_settings.html">?default_settings</a></code>) are copied over. In particular, this removes the need to write R code in a DCF-friendly way, and allows normal R syntax highlighting in the saved file. We may eventually deprecate the DCF approach in favor of this one; user feedback is welcome on strong preferences for either approach, or for a different approach like YAML. Generally you should be able to convert your existing <code>.lintr</code> file to an equivalent R config by replacing the <code>:</code> key-value separators with assignments (<code>&lt;-</code>). By default, such a config is searched for in a file named <code>.lintr.R</code>. This is a mildly breaking change if you happened to be keeping a file <code>.lintr.R</code> around since that file is given precedence over <code>.lintr</code>.
<ul><li>We also validate config files up-front make it clearer when invalid configs are present (<a href="https://github.com/r-lib/lintr/issues/2195" class="external-link">#2195</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). There is a warning for “invalid” settings, i.e., settings not part of <code><a href="../reference/default_settings.html">?default_settings</a></code>. We think this is more likely to affect users declaring settings in R, since any variable defined in the config that’s not a setting must be removed to make it clearer which variables are settings vs. ancillary.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-3-1-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-3-1-1"></a></h3>
<ul><li>
<code><a href="../reference/sprintf_linter.html">sprintf_linter()</a></code> doesn’t error in cases where whitespace in <code>...</code> arguments is significant, e.g. <code>sprintf("%s", if (A) "" else y)</code>, which won’t parse if whitespace is removed (<a href="https://github.com/r-lib/lintr/issues/2131" class="external-link">#2131</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-default-linters-3-1-1">Changes to default linters<a class="anchor" aria-label="anchor" href="#changes-to-default-linters-3-1-1"></a></h3>
<ul><li>
<code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> lints the {magrittr} assignment pipe <code>%&lt;&gt;%</code> (<a href="https://github.com/r-lib/lintr/issues/2008" class="external-link">#2008</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). This can be deactivated by setting the new argument <code>allow_pipe_assign</code> to <code>TRUE</code>.</li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code>:
<ul><li>assumes <code>glue()</code> is <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> when <code>interpret_glue=TRUE</code> (<a href="https://github.com/r-lib/lintr/issues/2032" class="external-link">#2032</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>finds function usages, including infix usage, inside <code>glue()</code> calls to avoid false positives for “unused objects” (<a href="https://github.com/r-lib/lintr/issues/2029" class="external-link">#2029</a> and <a href="https://github.com/r-lib/lintr/issues/2069" class="external-link">#2069</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> no longer attempts to lint strings in function calls on the LHS of assignments (<a href="https://github.com/r-lib/lintr/issues/1466" class="external-link">#1466</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/infix_spaces_linter.html">infix_spaces_linter()</a></code> allows finer control for linting <code>=</code> in different scenarios using parse tags <code>EQ_ASSIGN</code>, <code>EQ_SUB</code>, and <code>EQ_FORMALS</code> (<a href="https://github.com/r-lib/lintr/issues/1977" class="external-link">#1977</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/equals_na_linter.html">equals_na_linter()</a></code> checks for <code>x %in% NA</code>, which is a more convoluted form of <code>is.na(x)</code> (<a href="https://github.com/r-lib/lintr/issues/2088" class="external-link">#2088</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="new-and-improved-features-3-1-1">New and improved features<a class="anchor" aria-label="anchor" href="#new-and-improved-features-3-1-1"></a></h3>
<ul><li>New exclusion sentinel <code># nolint next</code> to signify the next line should skip linting (<a href="https://github.com/r-lib/lintr/issues/1791" class="external-link">#1791</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). The usual rules apply for excluding specific linters, e.g. <code># nolint next: assignment_linter.</code>. The exact string used to match a subsequent-line exclusion is controlled by the <code>exclude_next</code> config entry or R option <code>"lintr.exclude_next"</code>.</li>
<li>New <code><a href="../reference/xp_call_name.html">xp_call_name()</a></code> helper to facilitate writing custom linters (<a href="https://github.com/r-lib/lintr/issues/2023" class="external-link">#2023</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). This helper converts a matched XPath to the R function to which it corresponds. This is useful for including the “offending” function in the lint’s message.</li>
<li>New <code><a href="../reference/make_linter_from_xpath.html">make_linter_from_xpath()</a></code> to facilitate making simple linters directly from a single XPath (<a href="https://github.com/r-lib/lintr/issues/2064" class="external-link">#2064</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). This is especially helpful for making on-the-fly/exploratory linters, but also extends to any case where the linter can be fully defined from a static lint message and single XPath.</li>
<li>Toggle lint progress indicators with argument <code>show_progress</code> to <code><a href="../reference/lint.html">lint_dir()</a></code> and <code><a href="../reference/lint.html">lint_package()</a></code> (<a href="https://github.com/r-lib/lintr/issues/972" class="external-link">#972</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). The default is still to show progress in <code><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive()</a></code> sessions. Progress is also now shown with a “proper” progress bar (<code><a href="https://rdrr.io/r/utils/txtProgressBar.html" class="external-link">utils::txtProgressBar()</a></code>), which in particular solves the issue of progress <code>.</code> spilling well past the width of the screen in large directories.</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code>, <code><a href="../reference/lint.html">lint_dir()</a></code>, and <code><a href="../reference/lint.html">lint_package()</a></code> fail more gracefully when the user mis-spells an argument name (<a href="https://github.com/r-lib/lintr/issues/2134" class="external-link">#2134</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Quarto files (.qmd) are included by <code><a href="../reference/lint.html">lint_dir()</a></code> by default (<a href="https://github.com/r-lib/lintr/issues/2150" class="external-link">#2150</a>, <a href="https://github.com/dave-lovell" class="external-link">@dave-lovell</a>).</li>
</ul><div class="section level4">
<h4 id="new-linters-3-1-1">New linters<a class="anchor" aria-label="anchor" href="#new-linters-3-1-1"></a></h4>
<ul><li>
<code><a href="../reference/library_call_linter.html">library_call_linter()</a></code> can detect if all library/require calls are not at the top of your script (<a href="https://github.com/r-lib/lintr/issues/2027" class="external-link">#2027</a>, <a href="https://github.com/r-lib/lintr/issues/2043" class="external-link">#2043</a>, <a href="https://github.com/r-lib/lintr/issues/2163" class="external-link">#2163</a>, and <a href="https://github.com/r-lib/lintr/issues/2170" class="external-link">#2170</a>, <a href="https://github.com/nicholas-masel" class="external-link">@nicholas-masel</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/keyword_quote_linter.html">keyword_quote_linter()</a></code> for finding unnecessary or discouraged quoting of symbols in assignment, function arguments, or extraction (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Quoting is unnecessary when the target is a valid R name, e.g. <code>c("a" = 1)</code> can be <code>c(a = 1)</code>. The same goes to assignment (<code>"a" &lt;- 1</code>) and extraction (<code>x$"a"</code>). Where quoting is necessary, the linter encourages doing so with backticks (e.g. <code>x$`a b`</code> instead of <code>x$"a b"</code>).</li>
<li>
<code><a href="../reference/length_levels_linter.html">length_levels_linter()</a></code> for using the specific function <code><a href="https://rdrr.io/r/base/nlevels.html" class="external-link">nlevels()</a></code> instead of checking <code>length(levels(x))</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/scalar_in_linter.html">scalar_in_linter()</a></code> for discouraging <code>%in%</code> when the right-hand side is a scalar, e.g. <code>x %in% 1</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/if_not_else_linter.html">if_not_else_linter()</a></code> for encouraging <code>if</code> statements to be structured as <code>if (A) x else y</code> instead of <code>if (!A) y else x</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/repeat_linter.html">repeat_linter()</a></code> for encouraging <code>repeat</code> for infinite loops instead of <code>while (TRUE)</code> (<a href="https://github.com/r-lib/lintr/issues/2106" class="external-link">#2106</a>, <a href="https://github.com/MEO265" class="external-link">@MEO265</a>).</li>
<li>
<code><a href="../reference/length_test_linter.html">length_test_linter()</a></code> detects the common mistake <code>length(x == 0)</code> which is meant to be <code>length(x) == 0</code> (<a href="https://github.com/r-lib/lintr/issues/1991" class="external-link">#1991</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="extensions-to-existing-linters-3-1-1">Extensions to existing linters<a class="anchor" aria-label="anchor" href="#extensions-to-existing-linters-3-1-1"></a></h4>
<ul><li>
<code><a href="../reference/fixed_regex_linter.html">fixed_regex_linter()</a></code> gains an option <code>allow_unescaped</code> (default <code>FALSE</code>) to toggle linting regexes not requiring any escapes or character classes (<a href="https://github.com/r-lib/lintr/issues/1689" class="external-link">#1689</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Thus <code>fixed_regex_linter(allow_unescaped = TRUE)</code> would lint on <code>grepl("[$]", x)</code> but not on <code>grepl("a", x)</code> since the latter does not use any regex special characters.</li>
<li>
<code><a href="../reference/line_length_linter.html">line_length_linter()</a></code> helpfully includes the line length in the lint message (<a href="https://github.com/r-lib/lintr/issues/2057" class="external-link">#2057</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/conjunct_test_linter.html">conjunct_test_linter()</a></code> also lints usage like <code>dplyr::filter(x, A &amp; B)</code> in favor of using <code>dplyr::filter(x, A, B)</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>; <a href="https://github.com/r-lib/lintr/issues/2110" class="external-link">#2110</a> and <a href="https://github.com/r-lib/lintr/issues/2078" class="external-link">#2078</a>, <a href="https://github.com/salim-b" class="external-link">@salim-b</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Option <code>allow_filter</code> toggles when this applies. <code>allow_filter = "always"</code> drops such lints entirely, while <code>"not_dplyr"</code> only lints calls explicitly qualified as <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code>. The default, <code>"never"</code>, assumes all unqualified calls to <code><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter()</a></code> are <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code>.</li>
<li>
<code><a href="../reference/sort_linter.html">sort_linter()</a></code> checks for code like <code>x == sort(x)</code> which is better served by using the function <code><a href="https://rdrr.io/r/base/is.unsorted.html" class="external-link">is.unsorted()</a></code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/paste_linter.html">paste_linter()</a></code> gains detection for file paths that are better constructed with <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code>, e.g. <code>paste0(dir, "/", file)</code> would be better as <code>file.path(dir, file)</code> (part of <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/r-lib/lintr/issues/2082" class="external-link">#2082</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). What exactly gets linted here can be fine-tuned with the <code>allow_file_path</code> option (<code>"double_slash"</code> by default, with alternatives <code>"never"</code> and <code>"always"</code>). When <code>"always"</code>, these rules are ignored. When <code>"double_slash"</code>, paths appearing to construct a URL that have consecutive forward slashes (<code>/</code>) are skipped. When <code>"never"</code>, even URLs should be constructed with <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code>.</li>
<li>
<code><a href="../reference/seq_linter.html">seq_linter()</a></code> recommends <code><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev()</a></code> in the lint message for lints like <code>nrow(x):1</code> (<a href="https://github.com/r-lib/lintr/issues/1542" class="external-link">#1542</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/function_argument_linter.html">function_argument_linter()</a></code> detects usage of <code><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing()</a></code> for the linted argument (<a href="https://github.com/r-lib/lintr/issues/1546" class="external-link">#1546</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). The simplest fix for <code><a href="../reference/function_argument_linter.html">function_argument_linter()</a></code> lints is typically to set that argument to <code>NULL</code> by default, in which case it’s usually preferable to update function logic checking <code><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing()</a></code> to check <code><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null()</a></code> instead.</li>
<li>
<code><a href="../reference/commas_linter.html">commas_linter()</a></code> gains an option <code>allow_trailing</code> (default <code>FALSE</code>) to allow trailing commas while indexing. (<a href="https://github.com/r-lib/lintr/issues/2104" class="external-link">#2104</a>, <a href="https://github.com/MEO265" class="external-link">@MEO265</a>)</li>
<li>
<code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code>
<ul><li>checks for code inside <code>if (FALSE)</code> and other conditional loops with deterministically false conditions (<a href="https://github.com/r-lib/lintr/issues/1428" class="external-link">#1428</a>, <a href="https://github.com/ME0265" class="external-link">@ME0265</a>).</li>
<li>checks for unreachable code inside <code>if</code>, <code>else</code>, <code>for</code>, <code>while</code>, and <code>repeat</code> blocks, including combinations with <code><a href="https://rdrr.io/r/base/Control.html" class="external-link">break</a></code> and <code><a href="https://rdrr.io/r/base/Control.html" class="external-link">next</a></code> statements. (<a href="https://github.com/r-lib/lintr/issues/2105" class="external-link">#2105</a>, <a href="https://github.com/ME0265" class="external-link">@ME0265</a>).</li>
</ul></li>
<li>
<code><a href="../reference/implicit_assignment_linter.html">implicit_assignment_linter()</a></code> gains an argument <code>allow_lazy</code> (default <code>FALSE</code>) that allows optionally skipping lazy assignments like <code>A &amp;&amp; (B &lt;- foo(A))</code> (<a href="https://github.com/r-lib/lintr/issues/2016" class="external-link">#2016</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/unused_import_linter.html">unused_import_linter()</a></code> gains an argument <code>interpret_glue</code> (default <code>TRUE</code>) paralleling that in <code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> to toggle whether <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> expressions should be inspected for exported object usage (<a href="https://github.com/r-lib/lintr/issues/2042" class="external-link">#2042</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code>default_undesirable_functions</code> is updated to also include <code><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.unsetenv()</a></code> and <code><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure()</a></code> (<a href="https://github.com/r-lib/lintr/issues/2192" class="external-link">#2192</a> and <a href="https://github.com/r-lib/lintr/issues/2228" class="external-link">#2228</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Linters with logic around the magrittr pipe <code>%&gt;%</code> consistently apply it to the other pipes <code>%!&gt;%</code>, <code>%T&gt;%</code>, <code>%&lt;&gt;%</code> (and possibly <code>%$%</code>) where appropriate (<a href="https://github.com/r-lib/lintr/issues/2008" class="external-link">#2008</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).
<ul><li><code><a href="../reference/brace_linter.html">brace_linter()</a></code></li>
<li><code><a href="../reference/pipe_call_linter.html">pipe_call_linter()</a></code></li>
<li><code><a href="../reference/pipe_continuation_linter.html">pipe_continuation_linter()</a></code></li>
<li><code><a href="../reference/unnecessary_concatenation_linter.html">unnecessary_concatenation_linter()</a></code></li>
<li><code><a href="../reference/unnecessary_placeholder_linter.html">unnecessary_placeholder_linter()</a></code></li>
</ul></li>
<li>Linters with logic around function declarations consistently include the R 4.0.0 shorthand <code>\()</code> (<a href="https://github.com/r-lib/lintr/issues/2190" class="external-link">#2190</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).
<ul><li><code><a href="../reference/brace_linter.html">brace_linter()</a></code></li>
<li><code><a href="../reference/function_left_parentheses_linter.html">function_left_parentheses_linter()</a></code></li>
<li><code><a href="../reference/indentation_linter.html">indentation_linter()</a></code></li>
<li><code><a href="../reference/object_length_linter.html">object_length_linter()</a></code></li>
<li><code><a href="../reference/object_name_linter.html">object_name_linter()</a></code></li>
<li><code><a href="../reference/package_hooks_linter.html">package_hooks_linter()</a></code></li>
<li><code><a href="../reference/paren_body_linter.html">paren_body_linter()</a></code></li>
<li><code><a href="../reference/unnecessary_lambda_linter.html">unnecessary_lambda_linter()</a></code></li>
<li><code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code></li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="lint-accuracy-fixes-removing-false-positives-3-1-1">Lint accuracy fixes: removing false positives<a class="anchor" aria-label="anchor" href="#lint-accuracy-fixes-removing-false-positives-3-1-1"></a></h4>
<ul><li>
<code><a href="../reference/fixed_regex_linter.html">fixed_regex_linter()</a></code>
<ul><li>Is pipe-aware, in particular removing false positives around piping into {stringr} functions like <code>x |&gt; str_replace(fixed("a"), "b")</code> (<a href="https://github.com/r-lib/lintr/issues/1811" class="external-link">#1811</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Ignores non-string inputs to <code>pattern=</code> as a keyword argument (<a href="https://github.com/r-lib/lintr/issues/2159" class="external-link">#2159</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>Several linters avoiding false positives in <code>$</code> extractions get the same exceptions for <code>@</code> extractions, e.g. <code>S4@T</code> will no longer throw a <code><a href="../reference/T_and_F_symbol_linter.html">T_and_F_symbol_linter()</a></code> hit (<a href="https://github.com/r-lib/lintr/issues/2039" class="external-link">#2039</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).
<ul><li><code><a href="../reference/T_and_F_symbol_linter.html">T_and_F_symbol_linter()</a></code></li>
<li><code><a href="../reference/for_loop_index_linter.html">for_loop_index_linter()</a></code></li>
<li><code><a href="../reference/literal_coercion_linter.html">literal_coercion_linter()</a></code></li>
<li><code><a href="../reference/object_name_linter.html">object_name_linter()</a></code></li>
<li><code><a href="../reference/undesirable_function_linter.html">undesirable_function_linter()</a></code></li>
<li><code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code></li>
<li><code><a href="../reference/yoda_test_linter.html">yoda_test_linter()</a></code></li>
</ul></li>
<li>
<code><a href="../reference/sprintf_linter.html">sprintf_linter()</a></code> is pipe-aware, so that <code>x %&gt;% sprintf(fmt = "%s")</code> no longer lints (<a href="https://github.com/r-lib/lintr/issues/1943" class="external-link">#1943</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/condition_message_linter.html">condition_message_linter()</a></code> ignores usages of extracted calls like <code>env$stop(paste(a, b))</code> (<a href="https://github.com/r-lib/lintr/issues/1455" class="external-link">#1455</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/inner_combine_linter.html">inner_combine_linter()</a></code> no longer throws on length-1 calls to <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> like <code>c(exp(2))</code> or <code>c(log(3))</code> (<a href="https://github.com/r-lib/lintr/issues/2017" class="external-link">#2017</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Such usage is discouraged by <code><a href="../reference/unnecessary_concatenation_linter.html">unnecessary_concatenation_linter()</a></code>, but <code><a href="../reference/inner_combine_linter.html">inner_combine_linter()</a></code> <em>per se</em> does not apply.</li>
<li>
<code><a href="../reference/sort_linter.html">sort_linter()</a></code> only lints on <code><a href="https://rdrr.io/r/base/order.html" class="external-link">order()</a></code> of a single vector, excluding e.g. <code>x[order(x, y)]</code> and <code>x[order(y, x)]</code> (<a href="https://github.com/r-lib/lintr/issues/2156" class="external-link">#2156</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/redundant_ifelse_linter.html">redundant_ifelse_linter()</a></code> is aware of <code><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">dplyr::if_else()</a></code>’s <code>missing=</code> argument, so that <code>if_else(A, TRUE, FALSE, missing = FALSE)</code> doesn’t lint, but <code>if_else(A, TRUE, FALSE, NA)</code> does (<a href="https://github.com/r-lib/lintr/issues/1941" class="external-link">#1941</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Note that <code><a href="https://dplyr.tidyverse.org/reference/coalesce.html" class="external-link">dplyr::coalesce()</a></code> or <code>tidyr::replace_na()</code> may still be preferable.</li>
</ul></div>
<div class="section level4">
<h4 id="lint-accuracy-fixes-removing-false-negatives-3-1-1">Lint accuracy fixes: removing false negatives<a class="anchor" aria-label="anchor" href="#lint-accuracy-fixes-removing-false-negatives-3-1-1"></a></h4>
<ul><li>
<code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code> finds unreachable code even in the presence of a comment or semicolon after <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> or <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> (<a href="https://github.com/r-lib/lintr/issues/2127" class="external-link">#2127</a>, <a href="https://github.com/MEO265" class="external-link">@MEO265</a>).</li>
<li>
<code><a href="../reference/implicit_assignment_linter.html">implicit_assignment_linter()</a></code>
<ul><li>finds assignments in call arguments besides the first one (<a href="https://github.com/r-lib/lintr/issues/2136" class="external-link">#2136</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>finds assignments in parenthetical expressions like <code>if (A &amp;&amp; (B &lt;- foo(A))) { }</code> (<a href="https://github.com/r-lib/lintr/issues/2138" class="external-link">#2138</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/unnecessary_lambda_linter.html">unnecessary_lambda_linter()</a></code> checks for cases using explicit returns, e.g. <code>lapply(x, \(xi) return(sum(xi)))</code> (<a href="https://github.com/r-lib/lintr/issues/1567" class="external-link">#1567</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).
<ul><li>thanks to <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and <a href="https://github.com/strengejacke" class="external-link">@strengejacke</a> for detecting a regression in the original fix (<a href="https://github.com/r-lib/lintr/issues/2231" class="external-link">#2231</a>, <a href="https://github.com/r-lib/lintr/issues/2247" class="external-link">#2247</a>).</li>
</ul></li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.1.0" id="lintr-310">lintr 3.1.0<a class="anchor" aria-label="anchor" href="#lintr-310"></a></h2><p class="text-muted">CRAN release: 2023-07-19</p>
<div class="section level3">
<h3 id="deprecations--breaking-changes-3-1-0">Deprecations &amp; Breaking Changes<a class="anchor" aria-label="anchor" href="#deprecations--breaking-changes-3-1-0"></a></h3>
<ul><li>
<code>.lintr</code> files can now be kept in the directory <code>.github/linters</code> for better compatibility with Super-Linter. Note that this may be a breaking change if you already have a config in <code>.github/linters</code> inside a subdirectory as well as in your R project’s root, since the former will now be discovered first where it was ignored before. Please see <code><a href="../articles/lintr.html">vignette("lintr")</a></code> for details on how configs are discovered (<a href="https://github.com/r-lib/lintr/issues/1746" class="external-link">#1746</a>, <a href="https://github.com/tonyk7440" class="external-link">@tonyk7440</a> and <a href="https://github.com/klmr" class="external-link">@klmr</a>).</li>
<li>
<code><a href="../reference/lintr-deprecated.html">single_quotes_linter()</a></code> is deprecated in favor of the more generalizable <code><a href="../reference/quotes_linter.html">quotes_linter()</a></code> (<a href="https://github.com/r-lib/lintr/issues/1729" class="external-link">#1729</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code>unneeded_concatentation_linter()</code> is deprecated in favor of <code><a href="../reference/unnecessary_concatenation_linter.html">unnecessary_concatenation_linter()</a></code> for naming consistency (<a href="https://github.com/r-lib/lintr/issues/1707" class="external-link">#1707</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</li>
<li>
<code><a href="../reference/lintr-deprecated.html">consecutive_stopifnot_linter()</a></code> is deprecated in favor of the more general (see below) <code><a href="../reference/consecutive_assertion_linter.html">consecutive_assertion_linter()</a></code> (<a href="https://github.com/r-lib/lintr/issues/1604" class="external-link">#1604</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/lintr-deprecated.html">no_tab_linter()</a></code> is deprecated in favor of <code><a href="../reference/whitespace_linter.html">whitespace_linter()</a></code> for naming consistency and future generalization (<a href="https://github.com/r-lib/lintr/issues/1954" class="external-link">#1954</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/available_linters.html">available_linters()</a></code> prioritizes <code>tags</code> over <code>exclude_tags</code> in the case of overlap, i.e., tags listed in both arguments are included, not excluded. We don’t expect many people to be affected by this, and the old behavior was not made explicit in the documentation, but make note of it here since it required changing a test in lintr’s own suite where <code><a href="../reference/linters_with_tags.html">linters_with_tags()</a></code> implicitly assumed this behavior.</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code>, <code><a href="../reference/lint.html">lint_dir()</a></code>, and <code><a href="../reference/lint.html">lint_package()</a></code> no longer accept certain arguments (<code>cache=</code> for <code><a href="../reference/lint.html">lint()</a></code>, <code>relative_path=</code> for the latter two) positionally. The <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code> since 3.0.0 has been upgraded to an error.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-3-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-3-1-0"></a></h3>
<ul><li><p><code><a href="../reference/linters_with_tags.html">linters_with_tags()</a></code> now includes the previously missing spaces around “and” when listing missing linters advertised by <code><a href="../reference/available_linters.html">available_linters()</a></code>. This error message may appear e.g. when you update lintr to a version with new linters but don’t restart your R session (<a href="https://github.com/r-lib/lintr/issues/1946" class="external-link">#1946</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>)</p></li>
<li><p><code><a href="../reference/fixed_regex_linter.html">fixed_regex_linter()</a></code> is more robust to errors stemming from unrecognized escapes (<a href="https://github.com/r-lib/lintr/issues/1545" class="external-link">#1545</a>, <a href="https://github.com/r-lib/lintr/issues/1845" class="external-link">#1845</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> can handle Sweave/Rmarkdown documents with reference chunks like <code>&lt;&lt;ref_file&gt;&gt;</code> (<a href="https://github.com/r-lib/lintr/issues/779" class="external-link">#779</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Note that these are simply skipped, rather than attempting to retrieve the reference and also lint it.</p></li>
<li><p><code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> no longer lints assignments in braces that include comments when <code>allow_trailing = FALSE</code> (<a href="https://github.com/r-lib/lintr/issues/1701" class="external-link">#1701</a>, <a href="https://github.com/ashbaldry" class="external-link">@ashbaldry</a>)</p></li>
<li>
<p><code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code></p>
<ul><li>No longer silently ignores usage warnings that don’t contain a quoted name (<a href="https://github.com/r-lib/lintr/issues/1714" class="external-link">#1714</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</li>
<li>No longer fails on code with comments inside a multi-line call to <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> (<a href="https://github.com/r-lib/lintr/issues/1919" class="external-link">#1919</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</li>
</ul></li>
<li><p><code><a href="../reference/namespace_linter.html">namespace_linter()</a></code> correctly recognizes backticked operators to be exported from respective namespaces (like <code><a href="https://rlang.r-lib.org/reference/op-null-default.html" class="external-link">rlang::`%||%`</a></code>) (<a href="https://github.com/r-lib/lintr/issues/1752" class="external-link">#1752</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>)</p></li>
<li><p><code><a href="../reference/lint.html">lint_package()</a></code> correctly finds a package from within a subdir if the <code>path</code> points to anywhere within the package (<a href="https://github.com/r-lib/lintr/issues/1759" class="external-link">#1759</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</p></li>
<li>
<p>Improved error behavior in <code><a href="../reference/lint-s3.html">Lint()</a></code>, <code><a href="../reference/lint.html">lint()</a></code> and <code><a href="../reference/xml_nodes_to_lints.html">xml_nodes_to_lints()</a></code> (<a href="https://github.com/r-lib/lintr/issues/1427" class="external-link">#1427</a>, <a href="https://github.com/r-lib/lintr/issues/763" class="external-link">#763</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</p>
<ul><li>
<code><a href="../reference/lint-s3.html">Lint()</a></code> validates its inputs more thoroughly, preventing errors during <code>print.Lints</code> like “Error in rep.int(character, length) : invalid ‘times’ value:”.</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code> no longer tries to create an expression tree with unexpected end of input errors, because they can be broken.</li>
<li>
<code><a href="../reference/xml_nodes_to_lints.html">xml_nodes_to_lints()</a></code> warns if it can’t find lint locations and uses dummy locations as a fallback.</li>
</ul></li>
<li><p><code><a href="../reference/linters_with_defaults.html">linters_with_defaults()</a></code> no longer erroneously marks linter factories as linters (<a href="https://github.com/r-lib/lintr/issues/1725" class="external-link">#1725</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</p></li>
<li><p>Row names for <code><a href="../reference/available_linters.html">available_linters()</a></code> data frame are now contiguous (<a href="https://github.com/r-lib/lintr/issues/1781" class="external-link">#1781</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> allows all S3 group Generics (see <code><a href="https://rdrr.io/r/base/groupGeneric.html" class="external-link">?base::groupGeneric</a></code>) and S3 generics defined in a different file in the same package (<a href="https://github.com/r-lib/lintr/issues/1808" class="external-link">#1808</a>, <a href="https://github.com/r-lib/lintr/issues/1841" class="external-link">#1841</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</p></li>
<li>
<p><code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> improves identification of the exact source of a lint</p>
<ul><li>for undefined variables in expressions with where the variable is used as a symbol in a usual way, for example in a formula or in an extraction with <code>$</code> (<a href="https://github.com/r-lib/lintr/issues/1914" class="external-link">#1914</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>for general usage warnings without location info (<a href="https://github.com/r-lib/lintr/issues/1986" class="external-link">#1986</a> and <a href="https://github.com/r-lib/lintr/issues/1917" class="external-link">#1917</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</li>
</ul></li>
<li><p><code><a href="../reference/function_left_parentheses_linter.html">function_left_parentheses_linter()</a></code> produces a more specific lint (and no longer fails) when the opening parenthesis is on a different line than <code>function</code> or the call name (<a href="https://github.com/r-lib/lintr/issues/1953" class="external-link">#1953</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). Thanks also to <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a> and <a href="https://github.com/lorenzwalthert" class="external-link">@lorenzwalthert</a> for identifying a regression in the initial fix, <a href="https://github.com/r-lib/lintr/issues/1963" class="external-link">#1963</a>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-defaults-3-1-0">Changes to defaults<a class="anchor" aria-label="anchor" href="#changes-to-defaults-3-1-0"></a></h3>
<ul><li><p>Set the default for the <code>except</code> argument in <code><a href="../reference/duplicate_argument_linter.html">duplicate_argument_linter()</a></code> to <code>c("mutate", "transmute")</code>. This allows sequential updates like <code>x |&gt; mutate(a = b + 1, a = log(a))</code> (<a href="https://github.com/r-lib/lintr/issues/1345" class="external-link">#1345</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li>
<p><code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code></p>
<ul><li>gains <code>skip_with</code> argument to skip code in <code><a href="https://rdrr.io/r/base/with.html" class="external-link">with()</a></code> expressions. To be consistent with <code>R CMD check</code>, it defaults to <code>TRUE</code> (<a href="https://github.com/r-lib/lintr/issues/941" class="external-link">#941</a>, <a href="https://github.com/r-lib/lintr/issues/1458" class="external-link">#1458</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</li>
<li>Handles backticked symbols inside {glue} expressions correctly, e.g. <code>glue("{`x`}")</code> correctly determines <code>x</code> was used (<a href="https://github.com/r-lib/lintr/issues/1619" class="external-link">#1619</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</li>
<li>Detects problems inside R4.1.0+ lambda functions (<code>\(...)</code>) (<a href="https://github.com/r-lib/lintr/issues/1933" class="external-link">#1933</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</li>
</ul></li>
<li><p><code><a href="../reference/spaces_inside_linter.html">spaces_inside_linter()</a></code> allows terminal missing keyword arguments (e.g. <code>alist(arg = )</code>; <a href="https://github.com/r-lib/lintr/issues/540" class="external-link">#540</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/brace_linter.html">brace_linter()</a></code> allows empty braced expression on the same line (e.g. <code>while (updating_condition()) { }</code>) regardless of <code>allow_single_line</code> to match the corresponding behavior in {styler}. This is an expedient while the style guide on handling this case awaits clarification: <a href="https://github.com/tidyverse/style/issues/191" class="external-link uri">https://github.com/tidyverse/style/issues/191</a>. (<a href="https://github.com/r-lib/lintr/issues/1346" class="external-link">#1346</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/undesirable_function_linter.html">undesirable_function_linter()</a></code> and <code><a href="../reference/undesirable_operator_linter.html">undesirable_operator_linter()</a></code> now produce an error if empty vector of undesirable functions or operators is provided (<a href="https://github.com/r-lib/lintr/issues/1867" class="external-link">#1867</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li>
<p>New linters which are also included as defaults (see “New linters” for more details):</p>
<ul><li><code><a href="../reference/indentation_linter.html">indentation_linter()</a></code></li>
<li><code><a href="../reference/quotes_linter.html">quotes_linter()</a></code></li>
<li><code><a href="../reference/unnecessary_concatenation_linter.html">unnecessary_concatenation_linter()</a></code></li>
<li><code><a href="../reference/whitespace_linter.html">whitespace_linter()</a></code></li>
</ul></li>
<li><p><code><a href="../reference/lint.html">lint_package()</a></code> also looks for files in <code>exec/</code> (<a href="https://github.com/r-lib/lintr/issues/1950" class="external-link">#1950</a>, <a href="https://github.com/jmaspons" class="external-link">@jmaspons</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-and-improved-features-3-1-0">New and improved features<a class="anchor" aria-label="anchor" href="#new-and-improved-features-3-1-0"></a></h3>
<ul><li><p>New <code><a href="../reference/get_r_string.html">get_r_string()</a></code> helper to get the R-equivalent value of a string, especially useful for R-4-style raw strings. Previously an internal <code>lintr</code> helper, now exported to facilitate writing custom linters (<a href="https://github.com/r-lib/lintr/issues/1493" class="external-link">#1493</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p></li>
<li><p><code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> improves lint metadata when detecting undefined infix operators, e.g. <code>%&gt;%</code> or <code>:=</code> (<a href="https://github.com/r-lib/lintr/issues/1497" class="external-link">#1497</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/unused_import_linter.html">unused_import_linter()</a></code> can detect datasets from imported packages and no longer warns when a package is imported only for its datasets (<a href="https://github.com/r-lib/lintr/issues/1545" class="external-link">#1545</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li>
<p>When a linter triggers an error, <code><a href="../reference/lint.html">lint()</a></code> will provide a more actionable summary of where the error occurred, particularly useful for cases like <code><a href="../reference/lint.html">lint_package()</a></code> where both the responsible file and the responsible linter would be unknown (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p>
<p>Typically, linters should not themselves cause R to stop – syntax errors lead to error lints, for example. Please report such failures as they are likely bugs.</p>
</li>
<li><p><code><a href="../reference/pipe_continuation_linter.html">pipe_continuation_linter()</a></code> recognizes violations involving the native R pipe <code>|&gt;</code> (<a href="https://github.com/r-lib/lintr/issues/1609" class="external-link">#1609</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/paste_linter.html">paste_linter()</a></code> also catches usages like <code>paste(rep("*", 10L), collapse = "")</code> that can be written more concisely as <code>strrep("*", 10L)</code> (<a href="https://github.com/r-lib/lintr/issues/1108" class="external-link">#1108</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/spaces_inside_linter.html">spaces_inside_linter()</a></code> produces lints for spaces inside <code>[[</code> (<a href="https://github.com/r-lib/lintr/issues/1673" class="external-link">#1673</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/sprintf_linter.html">sprintf_linter()</a></code> also applies to <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">gettextf()</a></code> (<a href="https://github.com/r-lib/lintr/issues/1677" class="external-link">#1677</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p>Documentation for all linters contains examples of code that does and does not produce lints (<a href="https://github.com/r-lib/lintr/issues/1492" class="external-link">#1492</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/implicit_integer_linter.html">implicit_integer_linter()</a></code> gains parameter <code>allow_colon</code> to skip lints on expressions like <code>1:10</code> (<a href="https://github.com/r-lib/lintr/issues/1155" class="external-link">#1155</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/infix_spaces_linter.html">infix_spaces_linter()</a></code> supports the native R pipe <code>|&gt;</code> (<a href="https://github.com/r-lib/lintr/issues/1793" class="external-link">#1793</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</p></li>
<li><p><code><a href="../reference/unnecessary_concatenation_linter.html">unnecessary_concatenation_linter()</a></code> (f.k.a. <code><a href="../reference/lintr-deprecated.html">unneeded_concatenation_linter()</a></code>) no longer lints on <code>c(...)</code> (i.e., passing <code>...</code> in a function call) when <code>allow_single_expression = FALSE</code> (<a href="https://github.com/r-lib/lintr/issues/1696" class="external-link">#1696</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> gains parameter <code>regexes</code> to allow custom naming conventions (<a href="https://github.com/r-lib/lintr/issues/822" class="external-link">#822</a>, <a href="https://github.com/r-lib/lintr/issues/1421" class="external-link">#1421</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</p></li>
<li><p><code><a href="../reference/literal_coercion_linter.html">literal_coercion_linter()</a></code> reports a replacement in the lint message, e.g. code like <code>as.integer(1)</code> will suggest using <code>1L</code> instead, and code like <code>as.numeric(NA)</code> will suggest using <code>NA_real_</code> instead (<a href="https://github.com/r-lib/lintr/issues/1439" class="external-link">#1439</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p>Added <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> functions for <code>lint</code> and <code>lints</code> (<a href="https://github.com/r-lib/lintr/issues/1784" class="external-link">#1784</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</p></li>
<li><p><code><a href="../reference/all_linters.html">all_linters()</a></code> function provides an easy way to access all available linters (<a href="https://github.com/r-lib/lintr/issues/1843" class="external-link">#1843</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>)</p></li>
<li><p><code><a href="../reference/missing_argument_linter.html">missing_argument_linter()</a></code> allows missing arguments in <code><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote()</a></code> calls (<a href="https://github.com/r-lib/lintr/issues/1889" class="external-link">#1889</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> correctly extracts indented code chunks from R Markdown documents, which helps avoid spurious lints related to whitespace (<a href="https://github.com/r-lib/lintr/issues/1945" class="external-link">#1945</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>). The convention taken is that, within each chunk, all code is anchored relative to the leftmost non-whitespace column.</p></li>
<li><p><code><a href="../reference/available_linters.html">available_linters()</a></code> gives priority to <code>tags</code> over <code>exclude_tags</code> in the case of overlap. In particular, this means that <code>available_linters(tags = "deprecated")</code> will work to return deprecated linters without needing to specify <code>exclude_tags</code> (<a href="https://github.com/r-lib/lintr/issues/1959" class="external-link">#1959</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p></li>
<li><p>The {lintr} configuration file is now searched in the system’s user configuration path; the lintr config filename can also be configured explicitly by setting the environment variable <code>R_LINTR_LINTER_FILE</code> (<a href="https://github.com/r-lib/lintr/issues/460" class="external-link">#460</a>, <a href="https://github.com/klmr" class="external-link">@klmr</a>)</p></li>
<li><p>Errors in the {lintr} configuration file now produce more informative error messages (<a href="https://github.com/r-lib/lintr/issues/886" class="external-link">#886</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</p></li>
</ul><div class="section level4">
<h4 id="new-linters-3-1-0">New linters<a class="anchor" aria-label="anchor" href="#new-linters-3-1-0"></a></h4>
<ul><li><p><code><a href="../reference/matrix_apply_linter.html">matrix_apply_linter()</a></code> recommends use of dedicated <code><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums()</a></code>, <code><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums()</a></code>, <code><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans()</a></code>, <code><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans()</a></code> over <code>apply(., MARGIN, sum)</code> or <code>apply(., MARGIN, mean)</code>. The recommended alternative is much more efficient and more readable (<a href="https://github.com/r-lib/lintr/issues/1869" class="external-link">#1869</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>).</p></li>
<li><p><code><a href="../reference/unnecessary_lambda_linter.html">unnecessary_lambda_linter()</a></code>: detect unnecessary lambdas (anonymous functions), e.g. <code>lapply(x, function(xi) sum(xi))</code> can be <code>lapply(x, sum)</code> and <code>purrr::map(x, ~quantile(.x, 0.75, na.rm = TRUE))</code> can be <code>purrr::map(x, quantile, 0.75, na.rm = TRUE)</code>. Naming <code>probs = 0.75</code> can further improve readability (<a href="https://github.com/r-lib/lintr/issues/1531" class="external-link">#1531</a>, <a href="https://github.com/r-lib/lintr/issues/1866" class="external-link">#1866</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>).</p></li>
<li><p><code><a href="../reference/redundant_equals_linter.html">redundant_equals_linter()</a></code> for redundant comparisons to <code>TRUE</code> or <code>FALSE</code> like <code>is_treatment == TRUE</code> (<a href="https://github.com/r-lib/lintr/issues/1500" class="external-link">#1500</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/lengths_linter.html">lengths_linter()</a></code> for encouraging usage of <code>lengths(x)</code> instead of <code>sapply(x, length)</code> (and similar)</p></li>
<li><p><code><a href="../reference/function_return_linter.html">function_return_linter()</a></code> for handling issues in function <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> statements. Currently handles assignments within the <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> clause, e.g. <code>return(x &lt;- foo())</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/boolean_arithmetic_linter.html">boolean_arithmetic_linter()</a></code> for identifying places where logical aggregations are more appropriate, e.g. <code>length(which(x == y)) == 0</code> is the same as <code>!any(x == y)</code> or even <code>all(x != y)</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/for_loop_index_linter.html">for_loop_index_linter()</a></code> to prevent overwriting local variables in a <code>for</code> loop declared like <code>for (x in x) { ... }</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/is_numeric_linter.html">is_numeric_linter()</a></code> for redundant checks equivalent to <code>is.numeric(x)</code> such as <code>is.numeric(x) || is.integer(x)</code> or <code>class(x) %in% c("numeric", "integer")</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/empty_assignment_linter.html">empty_assignment_linter()</a></code> for identifying empty assignments like <code>x = {}</code> that are more clearly written as <code>x = NULL</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/unnecessary_placeholder_linter.html">unnecessary_placeholder_linter()</a></code> for identifying where usage of the {magrittr} placeholder <code>.</code> could be omitted (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/routine_registration_linter.html">routine_registration_linter()</a></code> for identifying native routines that don’t use registration (<code>useDynLib</code> in the <code>NAMESPACE</code>; <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p><code><a href="../reference/indentation_linter.html">indentation_linter()</a></code> for checking that the indentation conforms to 2-space Tidyverse-style (<a href="https://github.com/AshesITR" class="external-link">@AshesITR</a> and <a href="https://github.com/dgkf" class="external-link">@dgkf</a>, <a href="https://github.com/r-lib/lintr/issues/1411" class="external-link">#1411</a>, <a href="https://github.com/r-lib/lintr/issues/1792" class="external-link">#1792</a>, <a href="https://github.com/r-lib/lintr/issues/1898" class="external-link">#1898</a>).</p></li>
<li><p><code><a href="../reference/lintr-deprecated.html">unnecessary_nested_if_linter()</a></code> for checking unnecessary nested <code>if</code> statements where a single <code>if</code> statement with appropriate conditional expression would suffice (<a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>, <a href="https://github.com/r-lib/lintr/issues/1778" class="external-link">#1778</a>).</p></li>
<li><p><code><a href="../reference/implicit_assignment_linter.html">implicit_assignment_linter()</a></code> for checking implicit assignments in function calls (<a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>, <a href="https://github.com/r-lib/lintr/issues/1777" class="external-link">#1777</a>).</p></li>
<li><p><code><a href="../reference/quotes_linter.html">quotes_linter()</a></code> is a generalized version of (now deprecated) <code><a href="../reference/lintr-deprecated.html">single_quotes_linter()</a></code>. It accepts an argument <code>delimiter</code> to specify whether <code>"</code> or <code>'</code> should be the accepted method for delimiting character literals. The default, <code>"</code>, reflects the Tidyverse style guide recommendation and matches the behavior of <code><a href="../reference/lintr-deprecated.html">single_quotes_linter()</a></code>.</p></li>
<li><p><code><a href="../reference/unnecessary_concatenation_linter.html">unnecessary_concatenation_linter()</a></code> is simply <code><a href="../reference/lintr-deprecated.html">unneeded_concatenation_linter()</a></code>, renamed.</p></li>
<li><p><code><a href="../reference/consecutive_assertion_linter.html">consecutive_assertion_linter()</a></code> (f.k.a. <code><a href="../reference/lintr-deprecated.html">consecutive_stopifnot_linter()</a></code>) now lints for consecutive calls to <code>assertthat::assert_that()</code> (as long as the <code>msg=</code> argument is not used; <a href="https://github.com/r-lib/lintr/issues/1604" class="external-link">#1604</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p></li>
<li><p><code><a href="../reference/whitespace_linter.html">whitespace_linter()</a></code> is simply <code><a href="../reference/lintr-deprecated.html">no_tab_linter()</a></code>, renamed. In the future, we plan to extend it to work for different whitespace preferences.</p></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="notes-3-1-0">Notes<a class="anchor" aria-label="anchor" href="#notes-3-1-0"></a></h3>
<ul><li><p>{lintr} now depends on R version 3.5.0, in line with the tidyverse policy for R version compatibility.</p></li>
<li>
<p><code><a href="../reference/lint.html">lint()</a></code> continues to support Rmarkdown documents. For users of custom .Rmd engines, e.g. <code>marginformat</code> from {tufte} or <code>theorem</code> from {bookdown}, note that those engines must be registered in {knitr} prior to running <code><a href="../reference/lint.html">lint()</a></code> in order for {lintr} to behave as expected, i.e., they should be shown as part of <code>knitr::knit_engines$get()</code>.</p>
<p>For {tufte} and {bookdown} in particular, one only needs to load the package namespace to accomplish this (i.e., minimally <code>loadNamespace("tufte")</code> or <code>loadNamespace("bookdown")</code>, respectively, will register those packages’ custom engines; since <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> also runs <code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">loadNamespace()</a></code>, running <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> will also work). Note further that {tufte} only added this code to their <code>.onLoad()</code> recently after our request to do so (see <a href="https://github.com/rstudio/tufte/issues/117" class="external-link uri">https://github.com/rstudio/tufte/issues/117</a>). Therefore, ensure you’re using a more recent version to get the behavior described here for {tufte}.</p>
<p>More generally, there is no requirement that <code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">loadNamespace()</a></code> will register a package’s custom {knitr} engines, so you may need to work with other package authors to figure out a solution for other engines.</p>
<p>Thanks to Yihui and other developers for their helpful discussions around this issue (<a href="https://github.com/r-lib/lintr/issues/797" class="external-link">#797</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p>
</li>
<li>
<p>The output of <code><a href="../reference/lint.html">lint()</a></code> and <code><a href="../reference/lint-s3.html">Lint()</a></code> gain S3 class <code>"list"</code> to assist with S3 dispatch (<a href="https://github.com/r-lib/lintr/issues/1494" class="external-link">#1494</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p>
<ul><li>As a corollary, we now register an <code>as_tibble</code> method for class <code>lints</code>, conditional on {tibble} availability, to avoid dispatching to the <code>list</code> method which does not work with <code><a href="../reference/lint.html">lint()</a></code> output (<a href="https://github.com/r-lib/lintr/issues/1997" class="external-link">#1997</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</li>
</ul></li>
<li><p><code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> gives a more helpful warning when a <code>glue()</code> expression fails to evaluate (<a href="https://github.com/r-lib/lintr/issues/1985" class="external-link">#1985</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
<li><p>The documentation of <code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> now describes how <code>"symbols"</code> works when passed to the <code>styles</code> parameter (<a href="https://github.com/r-lib/lintr/issues/1924" class="external-link">#1924</a>, <a href="https://github.com/hedsnz" class="external-link">@hedsnz</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.2" id="lintr-302">lintr 3.0.2<a class="anchor" aria-label="anchor" href="#lintr-302"></a></h2><p class="text-muted">CRAN release: 2022-10-19</p>
<ul><li>Fix test to avoid leaving behind cache files in the global cache directory.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.1" id="lintr-301">lintr 3.0.1<a class="anchor" aria-label="anchor" href="#lintr-301"></a></h2><p class="text-muted">CRAN release: 2022-09-13</p>
<ul><li><p>Skip multi-byte tests in non UTF-8 locales (<a href="https://github.com/r-lib/lintr/issues/1504" class="external-link">#1504</a>)</p></li>
<li><p><code><a href="../reference/modify_defaults.html">modify_defaults()</a></code> no longer uses the mistaken <code>"lintr_function"</code> S3 class, instead applying the <code>"linter"</code> class also common to <code><a href="../reference/Linter.html">Linter()</a></code>. <code><a href="../reference/Linter.html">Linter()</a></code> also includes <code>"function"</code> in the S3 class of its output to facilitate S3 dispatch to <code>function</code> methods where appropriate (<a href="https://github.com/r-lib/lintr/issues/1392" class="external-link">#1392</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p></li>
</ul><div class="section level3">
<h3 id="changes-to-defaults-3-0-1">Changes to defaults<a class="anchor" aria-label="anchor" href="#changes-to-defaults-3-0-1"></a></h3>
<ul><li><p><code><a href="../reference/brace_linter.html">brace_linter()</a></code> allows opening curly braces on a new line when there is a comment ending the preceding line (<a href="https://github.com/r-lib/lintr/issues/1433" class="external-link">#1433</a> and <a href="https://github.com/r-lib/lintr/issues/1434" class="external-link">#1434</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/seq_linter.html">seq_linter()</a></code> produces lint for <code>seq(...)</code>, since it also cannot properly handle empty edge cases (<a href="https://github.com/r-lib/lintr/issues/1468" class="external-link">#1468</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/seq_linter.html">seq_linter()</a></code> additionally lints on <code>1:n()</code> (from {dplyr}) and <code>1:.N</code> (from {data.table}) (<a href="https://github.com/r-lib/lintr/issues/1396" class="external-link">#1396</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/literal_coercion_linter.html">literal_coercion_linter()</a></code> lints {rlang}’s atomic vector constructors (i.e., <code>int()</code>, <code>chr()</code>, <code>lgl()</code>, and <code>dbl()</code>) if the argument is a scalar (<a href="https://github.com/r-lib/lintr/issues/1437" class="external-link">#1437</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/redundant_ifelse_linter.html">redundant_ifelse_linter()</a></code>’s lint message correctly suggests negation when the <code>yes</code> condition is <code>0</code> (<a href="https://github.com/r-lib/lintr/issues/1432" class="external-link">#1432</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
<li><p><code><a href="../reference/seq_linter.html">seq_linter()</a></code> provides more specific replacement code in lint message (<a href="https://github.com/r-lib/lintr/issues/1475" class="external-link">#1475</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-and-improved-features-3-0-1">New and improved features<a class="anchor" aria-label="anchor" href="#new-and-improved-features-3-0-1"></a></h3>
<ul><li><p>New <code><a href="../reference/sort_linter.html">sort_linter()</a></code> to detect <code>x[order(x)]</code> and recommend the faster and clearer alternative: <code>sort(x)</code> (<a href="https://github.com/r-lib/lintr/issues/1528" class="external-link">#1528</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>)</p></li>
<li><p><code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code> ignores trailing comments if they match a closing nolint block (<a href="https://github.com/r-lib/lintr/issues/1347" class="external-link">#1347</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</p></li>
<li><p>New <code><a href="../reference/function_argument_linter.html">function_argument_linter()</a></code> to enforce that arguments with defaults appear last in function declarations, see the <a href="https://design.tidyverse.org/required-no-defaults.html" class="external-link">Tidyverse design guide</a> (<a href="https://github.com/r-lib/lintr/issues/450" class="external-link">#450</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</p></li>
<li><p>New <code>allow_trailing</code> argument added to <code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> to check when assignment operators are at the end of a line, and the value is on the following line (<a href="https://github.com/r-lib/lintr/issues/1491" class="external-link">#1491</a>, <a href="https://github.com/ashbaldry" class="external-link">@ashbaldry</a>)</p></li>
<li><p>New <code><a href="../reference/sarif_output.html">sarif_output()</a></code> function to output lints to SARIF output (<a href="https://github.com/r-lib/lintr/issues/1424" class="external-link">#1424</a>, <a href="https://github.com/shaopeng-gh" class="external-link">@shaopeng-gh</a>)</p></li>
<li><p><code><a href="../reference/commented_code_linter.html">commented_code_linter()</a></code> now lints commented argument code, containing a trailing comma, as well (<a href="https://github.com/r-lib/lintr/issues/386" class="external-link">#386</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>). For example a comment containing <code>#  na.rm = TRUE,</code> now triggers a lint.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-3-0-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-3-0-1"></a></h3>
<ul><li>
<code><a href="../reference/object_length_linter.html">object_length_linter()</a></code> does not fail in case there are dependencies with no exports (e.g. data-only packages) (<a href="https://github.com/r-lib/lintr/issues/1424" class="external-link">#1424</a>, <a href="https://github.com/r-lib/lintr/issues/1509" class="external-link">#1509</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</li>
<li>
<code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> no longer fails on R files that match a knitr pattern (<a href="https://github.com/r-lib/lintr/issues/743" class="external-link">#743</a>, <a href="https://github.com/r-lib/lintr/issues/879" class="external-link">#879</a>, <a href="https://github.com/r-lib/lintr/issues/1406" class="external-link">#1406</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Parse error lints now appear with the linter name <code>"error"</code> instead of <code>NA</code> (<a href="https://github.com/r-lib/lintr/issues/1405" class="external-link">#1405</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>). Also, linting no longer runs if the <code>source_expressions</code> contain invalid string data that would cause error messages in other linters. in other linters.</li>
<li>Prevent <code><a href="../reference/lint.html">lint()</a></code> from hanging on Rmd files with some syntax errors (<a href="https://github.com/r-lib/lintr/issues/1443" class="external-link">#1443</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> no longer omits trailing non-code lines from knitr files (<a href="https://github.com/r-lib/lintr/issues/1400" class="external-link">#1400</a>, <a href="https://github.com/r-lib/lintr/issues/1415" class="external-link">#1415</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>). This fixes the location information for <code><a href="../reference/trailing_blank_lines_linter.html">trailing_blank_lines_linter()</a></code> in RMarkdown documents without terminal newlines.</li>
<li>The <code><a href="../articles/lintr.html">vignette("lintr")</a></code> incorrectly cited <code>exclude</code> as the key for setting file exclusions in <code>.lintr</code> when it is actually <code>exclusions</code>. (<a href="https://github.com/r-lib/lintr/issues/1401" class="external-link">#1401</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>)</li>
<li>Fixed file exclusion detection in <code><a href="../reference/lint.html">lint_dir()</a></code> so it no longer errors if there are multiple exclusions or no global exclusions configured for a single file (<a href="https://github.com/r-lib/lintr/issues/1413" class="external-link">#1413</a>, <a href="https://github.com/r-lib/lintr/issues/1442" class="external-link">#1442</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-3-0-1">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-3-0-1"></a></h3>
<ul><li>The minimum needed version for soft dependency <a href="https://withr.r-lib.org" class="external-link">withr</a> has been bumped to <code>2.5.0</code> (<a href="https://github.com/r-lib/lintr/issues/1404" class="external-link">#1404</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</li>
<li>Changed the deprecation warning for <code>with_defaults()</code> to also mention <code><a href="../reference/modify_defaults.html">modify_defaults()</a></code> (<a href="https://github.com/r-lib/lintr/issues/1438" class="external-link">#1438</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Quarto files (<code>.qmd</code>) were supported out of the box. The documentation and the testing infrastructure are updated to reflect this (<a href="https://github.com/r-lib/lintr/issues/1486" class="external-link">#1486</a>, <a href="https://github.com/IndrajeetPatil" class="external-link">@IndrajeetPatil</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="lintr-300">lintr 3.0.0<a class="anchor" aria-label="anchor" href="#lintr-300"></a></h2><p class="text-muted">CRAN release: 2022-06-13</p>
<div class="section level3">
<h3 id="breaking-changes-3-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-3-0-0"></a></h3>
<ul><li>
<p>All linters are now function factories (i.e., functions that return functions) for consistency. Previously, only linters with customizable parameters were factories (<a href="https://github.com/r-lib/lintr/issues/245" class="external-link">#245</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>, and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p>
<p>This means that usage such as <code>lint("file.R", seq_linter)</code> should be updated to <code>lint("file.R", seq_linter())</code>, and the following update for custom linters:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_custom_linter</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">source_expression</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span></span>
<span></span>
<span><span class="co"># becomes</span></span>
<span><span class="va">my_custom_linter</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu"><a href="../reference/Linter.html">Linter</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">source_expression</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span><span class="op">)</span></span></code></pre></div>
</li>
<li><p>Exclusions specified in the <code>.lintr</code> file are now relative to the location of that file and support excluding entire directories (<a href="https://github.com/r-lib/lintr/issues/158" class="external-link">#158</a>, <a href="https://github.com/r-lib/lintr/issues/438" class="external-link">#438</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</p></li>
<li>
<p>Removed long-deprecated linters (they’ve been marked as deprecated since v1.0.1 in 2017):</p>
<ul><li><code>absolute_paths_linter()</code></li>
<li><code>camel_case_linter()</code></li>
<li><code>multiple_dots_linter()</code></li>
<li><code>snake_case_linter()</code></li>
<li><code>trailing_semicolons_linter()</code></li>
</ul></li>
<li>
<p>Removed <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> from <code>all_undesirable_functions</code> because early returns (which often improve readability and reduce code complexity) require explicit use of <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code>. Follow <a href="https://github.com/r-lib/lintr/issues/1100" class="external-link">#1100</a> for an upcoming <code><a href="../reference/return_linter.html">return_linter()</a></code> to lint unnecessary <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> statements (<a href="https://github.com/r-lib/lintr/issues/1146" class="external-link">#1146</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</p>
<p>Note that you can replicate old behavior by supplying <code>return</code> as a custom undesirable function: <code>undesirable_function_linter(c(all_undesirable_functions, list(return = NA)))</code></p>
</li>
</ul></div>
<div class="section level3">
<h3 id="deprecations-3-0-0">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-3-0-0"></a></h3>
<ul><li>Lints are now marked with the name of the <code>linter</code> that caused them instead of the name of their implementation function. Deprecated the obsolete <code>linter</code> argument of <code><a href="../reference/lint-s3.html">Lint()</a></code> (<a href="https://github.com/r-lib/lintr/issues/664" class="external-link">#664</a>, <a href="https://github.com/r-lib/lintr/issues/673" class="external-link">#673</a>, <a href="https://github.com/r-lib/lintr/issues/746" class="external-link">#746</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>). Downstream custom linters should follow suit.</li>
<li>Renamed <code>semicolon_terminator_linter()</code> to <code><a href="../reference/semicolon_linter.html">semicolon_linter()</a></code> for better consistency. <code>semicolon_terminator_linter()</code> survives but is marked for deprecation. The new linter also has a new signature, taking arguments <code>allow_compound</code> and <code>allow_trailing</code> to replace the old single argument <code>semicolon</code>, again for signature consistency with other linters.</li>
<li>The following linters were subsumed into <code><a href="../reference/brace_linter.html">brace_linter()</a></code> and are now deprecated; see the item on <code><a href="../reference/brace_linter.html">brace_linter()</a></code> below:
<ul><li><code>closed_curly_linter()</code></li>
<li><code>open_curly_linter()</code></li>
<li><code>paren_brace_linter()</code></li>
</ul></li>
<li>The <code>...</code> argument for <code><a href="../reference/lint.html">lint()</a></code>, <code><a href="../reference/lint.html">lint_dir()</a></code>, and <code><a href="../reference/lint.html">lint_package()</a></code> has been promoted to an earlier position to better match the <a href="https://design.tidyverse.org/required-no-defaults.html" class="external-link">Tidyverse design principle</a> of data-&gt;descriptor-&gt;details. This change enables passing objects to <code>...</code> without needing to specify non-required arguments, e.g. <code>lint_dir("/path/to/dir", linter())</code> now works without the need to specify <code>relative_path</code>. This affects some code that uses positional arguments (<a href="https://github.com/r-lib/lintr/issues/935" class="external-link">#935</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).
<ul><li>For <code><a href="../reference/lint.html">lint()</a></code>, <code>...</code> is now the 3rd argument, where earlier this was <code>cache</code>.</li>
<li>For <code><a href="../reference/lint.html">lint_dir()</a></code> and <code><a href="../reference/lint.html">lint_package()</a></code>, <code>...</code> is now the 2nd argument, where earlier this was <code>relative_path</code>.</li>
</ul></li>
<li>Deprecated argument <code>source_file</code> to exported functions <code><a href="../reference/ids_with_token.html">with_id()</a></code> and <code><a href="../reference/ids_with_token.html">ids_with_token()</a></code>. It has been renamed to <code>source_expression</code> to better reflect that this argument is typically the output of <code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code>. For now, the old argument <code>source_file</code> can still be used (with warning). The now-private functional versions of many linters also underwent the same renaming (<code>source_file</code> -&gt; <code>source_expression</code>). This has no direct effect on packages importing lintr, but is mentioned in case custom linters imitating <code>lintr</code> style had also adopted the <code>source_file</code> naming and want to adapt to keep in sync.</li>
<li>Deprecated <code>with_defaults()</code> in favor of <code><a href="../reference/linters_with_defaults.html">linters_with_defaults()</a></code>, and add <code><a href="../reference/modify_defaults.html">modify_defaults()</a></code> which is intended to be used more generally to modify (i.e., extend, trim, and/or update) a list of defaults. Note that the argument corresponding to <code>with_defaults()</code>’s <code>default=</code> is called <code>defaults=</code> (i.e., pluralized) in both of these, and that usage like <code>with_defaults(default = NULL, ...)</code> should be converted to <code>linters_with_defaults(defaults = list(), ...)</code> (<a href="https://github.com/r-lib/lintr/issues/1029" class="external-link">#1029</a>, <a href="https://github.com/r-lib/lintr/issues/1336" class="external-link">#1336</a>, <a href="https://github.com/r-lib/lintr/issues/1361" class="external-link">#1361</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a> and <a href="https://github.com/michaelchirico" class="external-link">@michaelchirico</a>).</li>
<li>Deprecated the <code>find_line()</code> and <code>find_column()</code> helpers from the item-level <code>expressions</code> returned with <code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code>. These helpers were typically associated with regex-based logic for building linters, which is rarely needed and prone to false positives; now that lintr almost exclusively uses XPath-based logic for linters, these are no longer necessary (<a href="https://github.com/r-lib/lintr/issues/1373" class="external-link">#1373</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-to-defaults-3-0-0">Other changes to defaults<a class="anchor" aria-label="anchor" href="#other-changes-to-defaults-3-0-0"></a></h3>
<div class="section level4">
<h4 id="updates-to-default_linters-3-0-0">Updates to <code>default_linters</code>
<a class="anchor" aria-label="anchor" href="#updates-to-default_linters-3-0-0"></a></h4>
<ul><li>New <code><a href="../reference/brace_linter.html">brace_linter()</a></code> which combines several curly brace related linters, deprecating the following predecessors (<a href="https://github.com/r-lib/lintr/issues/1041" class="external-link">#1041</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>):
<ul><li>
<code>closed_curly_linter()</code>; both now also allow <code>}]</code> in addition to <code>})</code> and <code>},</code> as exceptions, i.e., <code>}</code> doesn’t need to be on its own line if paired with a closing square bracket, a closing parenthesis, or a comma. Also improved lint metadata so that source markers land at the closing brace instead of the closing parenthesis to improve the experience of fixing the lint (<a href="https://github.com/r-lib/lintr/issues/583" class="external-link">#583</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code>open_curly_linter()</code>; both also no longer lint unnecessary trailing whitespace (use <code><a href="../reference/trailing_whitespace_linter.html">trailing_whitespace_linter()</a></code> for this) and also allow <code>(</code>, <code>,</code>, and <code>%&gt;%</code> on preceding lines as exceptions, i.e., <code>{</code> can be alone on a line if the previous line is terminated with an opening parenthesis, a comma, or a pipe (<code>%&gt;%</code>) (<a href="https://github.com/r-lib/lintr/issues/487" class="external-link">#487</a>, <a href="https://github.com/r-lib/lintr/issues/1028" class="external-link">#1028</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code>paren_brace_linter()</code>; <code><a href="../reference/brace_linter.html">brace_linter()</a></code> also lints <code>if</code>/<code>else</code> and <code>repeat</code> with missing whitespace.</li>
<li>
<code><a href="../reference/brace_linter.html">brace_linter()</a></code> also newly enforces the following rules surrounding curly braces (originally Google linters, see below):
<ul><li>Require <code>else</code> to come on the same line as the preceding <code>}</code>, if present (<a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Require functions spanning multiple lines to use curly braces (<a href="https://github.com/r-lib/lintr/issues/987" class="external-link">#987</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Require balanced usage of <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code> in <code>if</code>/<code>else</code> conditions, i.e., if the <code>if</code> branch uses braces, then so must the <code>else</code> branch, and <em>vice versa</em> (<a href="https://github.com/r-lib/lintr/issues/983" class="external-link">#983</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
</ul></li>
<li>New <code><a href="../reference/paren_body_linter.html">paren_body_linter()</a></code> checks that there is a space between a right parenthesis and a body expression (<a href="https://github.com/r-lib/lintr/issues/809" class="external-link">#809</a>, <a href="https://github.com/kpagacz" class="external-link">@kpagacz</a>).</li>
<li>Added <code><a href="../reference/semicolon_linter.html">semicolon_linter()</a></code> as a default because it enforces a tidyverse style guide rule (<a href="https://github.com/r-lib/lintr/issues/683" class="external-link">#683</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/assignment_linter.html">assignment_linter()</a></code> (<a href="https://github.com/r-lib/lintr/issues/915" class="external-link">#915</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>):
<ul><li>Right assignments are now linted by default (<code>-&gt;</code> and <code>-&gt;&gt;</code>).</li>
<li>New argument <code>allow_cascading_assign</code> (<code>TRUE</code> by default) toggles whether to lint <code>&lt;&lt;-</code> and <code>-&gt;&gt;</code>.</li>
<li>New argument <code>allow_right_assign</code> (<code>FALSE</code> by default) toggles whether to lint <code>-&gt;</code> and <code>-&gt;&gt;</code>.</li>
</ul></li>
<li>
<code><a href="../reference/commented_code_linter.html">commented_code_linter()</a></code>: use the parse tree to find comments, eliminating some false positives (<a href="https://github.com/r-lib/lintr/issues/451" class="external-link">#451</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/equals_na_linter.html">equals_na_linter()</a></code> (<a href="https://github.com/r-lib/lintr/issues/545" class="external-link">#545</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>):
<ul><li>Extended to lint <code>x != NA</code> (before, only <code>==</code> was caught) and <code>NA == x</code> (before, only <code>NA</code> on RHS was caught).</li>
<li>Extended to skip usages in comments like <code>is.na(x) # use is.na(x), not x == NA</code>.</li>
</ul></li>
<li>
<code><a href="../reference/function_left_parentheses_linter.html">function_left_parentheses_linter()</a></code>: improved location information (<a href="https://github.com/r-lib/lintr/issues/1266" class="external-link">#1266</a>, <a href="https://github.com/r-lib/lintr/issues/1267" class="external-link">#1267</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/infix_spaces_linter.html">infix_spaces_linter()</a></code>:
<ul><li>Added argument <code>allow_multiple_spaces</code> (<code>TRUE</code> by default) which toggles whether to generate a lint for operators used with multiple spaces, e.g. <code>x   +   2</code>. The default setting allows extra spacing to be used to increase line-to-line alignment (<a href="https://github.com/r-lib/lintr/issues/940" class="external-link">#940</a>, <a href="https://github.com/f-ritter" class="external-link">@f-ritter</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Extended so that usages like <code>a~b</code> and <code>function(a=1) { ... }</code> are linted (<a href="https://github.com/r-lib/lintr/issues/930" class="external-link">#930</a>, #michaelchirico).</li>
<li>Added argument <code>exclude_operators</code> to disable lints on selected infix operators. By default, all “low-precedence” operators throw lints; see <code><a href="../reference/infix_spaces_linter.html">?infix_spaces_linter</a></code> for an enumeration of these. (<a href="https://github.com/r-lib/lintr/issues/914" class="external-link">#914</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Add an exception for <code>/</code> usage in <code>box::use()</code> declarations (<a href="https://github.com/r-lib/lintr/issues/1087" class="external-link">#1087</a>, <a href="https://github.com/klmr" class="external-link">@klmr</a>).</li>
</ul></li>
<li>
<code><a href="../reference/line_length_linter.html">line_length_linter()</a></code>: place the source marker at the margin of the affected line to improve user experience during de-linting – just press <kbd>Return</kbd> (<a href="https://github.com/r-lib/lintr/issues/735" class="external-link">#735</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).*</li>
<li>
<code><a href="../reference/lintr-deprecated.html">no_tab_linter()</a></code>: use more reliable matching (e.g., excluding matches found in comments; <a href="https://github.com/r-lib/lintr/issues/441" class="external-link">#441</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>).</li>
<li>
<code><a href="../reference/object_length_linter.html">object_length_linter()</a></code>: correctly detect generics and only count the implementation class towards the length. This prevents false positive lints in the case of long generic names, e.g. <code>very_very_very_long_generic_name.short_class</code> no longer produces a lint (<a href="https://github.com/r-lib/lintr/issues/871" class="external-link">#871</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/object_name_linter.html">object_name_linter()</a></code>:
<ul><li>Improved generic detection – in user-defined method <code>my_method.upstream.class</code>, <code>upstream.class</code> no longer throws a lint because the generic (<code>my_method</code>) properly uses <code>snake_case</code> (<a href="https://github.com/r-lib/lintr/issues/737" class="external-link">#737</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Exclude special R namespace hook functions such as <code>.onLoad()</code> (<a href="https://github.com/r-lib/lintr/issues/500" class="external-link">#500</a>, <a href="https://github.com/r-lib/lintr/issues/614" class="external-link">#614</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Correctly detect imported functions when linting packages (<a href="https://github.com/r-lib/lintr/issues/642" class="external-link">#642</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Correctly detect assignment generics like <code>names&lt;-.class_name</code> (<a href="https://github.com/r-lib/lintr/issues/843" class="external-link">#843</a>, <a href="https://github.com/jonkeane" class="external-link">@jonkeane</a>).</li>
<li>Added new styles <code>"symbols"</code> and <code>"SNAKE_CASE"</code> (<a href="https://github.com/r-lib/lintr/issues/494" class="external-link">#494</a>, <a href="https://github.com/r-lib/lintr/issues/495" class="external-link">#495</a>, <a href="https://github.com/r-lib/lintr/issues/615" class="external-link">#615</a>, <a href="https://github.com/r-lib/lintr/issues/670" class="external-link">#670</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).
<ul><li>
<code>"symbols"</code> is a new default style which won’t lint all-symbol object names. In particular, that means operator names like <code>%+%</code> are allowed.</li>
</ul></li>
<li>No longer lints names used in <code>$</code> extractions (<a href="https://github.com/r-lib/lintr/issues/582" class="external-link">#582</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code>:
<ul><li>Detect global variables if there are top-level dollar-assignments (<a href="https://github.com/r-lib/lintr/issues/666" class="external-link">#666</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Report usage warnings spanning multiple lines (<a href="https://github.com/r-lib/lintr/issues/507" class="external-link">#507</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Detect usages inside <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> constructs (<a href="https://github.com/r-lib/lintr/issues/942" class="external-link">#942</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Extended to include functions assigned with <code>=</code> instead of <code>&lt;-</code> (<a href="https://github.com/r-lib/lintr/issues/1081" class="external-link">#1081</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Detect functions exported by packages that are explicitly attached using <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> or <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require()</a></code> calls (<a href="https://github.com/r-lib/lintr/issues/1127" class="external-link">#1127</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Improved location information in some cases where the previous regex-based approach didn’t work, e.g. unicode characters in variable names (<a href="https://github.com/r-lib/lintr/issues/1285" class="external-link">#1285</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Correctly detect functions declared within <code><a href="https://rdrr.io/r/base/assign.html" class="external-link">assign()</a></code> and <code>setMethod()</code> (<a href="https://github.com/r-lib/lintr/issues/1322" class="external-link">#1322</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></li>
<li>
<code><a href="../reference/spaces_inside_linter.html">spaces_inside_linter()</a></code>: ignore spaces preceding trailing comments (<a href="https://github.com/r-lib/lintr/issues/636" class="external-link">#636</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/T_and_F_symbol_linter.html">T_and_F_symbol_linter()</a></code>:
<ul><li>Added as a default because it enforces a tidyverse style guide rule (<a href="https://github.com/r-lib/lintr/issues/517" class="external-link">#517</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>No longer lint occurrences of <code>T</code> and <code>F</code> when used for subsetting, and give a better message when used as variable names (<a href="https://github.com/r-lib/lintr/issues/657" class="external-link">#657</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></li>
<li>
<code><a href="../reference/trailing_blank_lines_linter.html">trailing_blank_lines_linter()</a></code>:
<ul><li>Extended to lint files without a terminal newline (<a href="https://github.com/r-lib/lintr/issues/675" class="external-link">#675</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Also, running <code><a href="../reference/lint.html">lint()</a></code> on a file without a terminal newline no longer throws a <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code>.</li>
</ul></li>
<li>
<code><a href="../reference/trailing_whitespace_linter.html">trailing_whitespace_linter()</a></code>:
<ul><li>Extended to also lint completely blank lines by default (<a href="https://github.com/r-lib/lintr/issues/1044" class="external-link">#1044</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Added argument <code>allow_empty_lines</code> (<code>FALSE</code> by default) to toggle this behavior.</li>
<li>Improved so that trailing whitespace inside string literals does not trigger a lint (<a href="https://github.com/r-lib/lintr/issues/1045" class="external-link">#1045</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Added argument <code>allow_in_strings</code> (<code>TRUE</code> by default) to toggle this behavior.</li>
</ul></li>
<li>
<code><a href="../reference/undesirable_function_linter.html">undesirable_function_linter()</a></code>:
<ul><li>Added new functions to <code>default_undesirable_functions</code> related to debugging (<a href="https://github.com/r-lib/lintr/issues/876" class="external-link">#876</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>):
<ul><li><code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/debug.html" class="external-link">debug()</a></code></li>
<li><code><a href="https://rdrr.io/r/utils/debugcall.html" class="external-link">debugcall()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/debug.html" class="external-link">debugonce()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/trace.html" class="external-link">trace()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/trace.html" class="external-link">untrace()</a></code></li>
</ul></li>
<li>No longer lints <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> and <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require()</a></code> calls attaching a package with an undesired name, e.g. <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(foo)</a></code> (<a href="https://github.com/r-lib/lintr/issues/814" class="external-link">#814</a>, <a href="https://github.com/kpagacz" class="external-link">@kpagacz</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>No longer lints undesirable symbols if they are used as names in <code>$</code> extractions (<a href="https://github.com/r-lib/lintr/issues/1050" class="external-link">#1050</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Added more explanation why certain functions might be undesirable and what alternatives to use; ditto for <code><a href="../reference/undesirable_operator_linter.html">undesirable_operator_linter()</a></code> (<a href="https://github.com/r-lib/lintr/issues/1133" class="external-link">#1133</a>, <a href="https://github.com/r-lib/lintr/issues/1146" class="external-link">#1146</a>, <a href="https://github.com/r-lib/lintr/issues/1159" class="external-link">#1159</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="other-noteworthy-changes-3-0-0">Other noteworthy changes<a class="anchor" aria-label="anchor" href="#other-noteworthy-changes-3-0-0"></a></h4>
<ul><li>
<code><a href="../reference/cyclocomp_linter.html">cyclocomp_linter()</a></code>: set the default <code>complexity_limit</code> to 15. This brings the default into sync with what is enforced via <code>default_linters</code> (<a href="https://github.com/r-lib/lintr/issues/693" class="external-link">#693</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/lint.html">lint_package()</a></code> now lints files in the <code>demo</code> directory by default (<a href="https://github.com/r-lib/lintr/issues/703" class="external-link">#703</a>, <a href="https://github.com/dmurdoch" class="external-link">@dmurdoch</a>).</li>
<li>Moved the default lintr cache directory from <code>~/.R/lintr_cache</code> (which was a violation of CRAN policy) to <code>R_user_dir("lintr", "cache")</code>. Note that 3.0.0 is a major version update and invalidates the old cache anyway, so it can be safely deleted (<a href="https://github.com/r-lib/lintr/issues/1062" class="external-link">#1062</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="new-and-improved-features-3-0-0">New and improved features<a class="anchor" aria-label="anchor" href="#new-and-improved-features-3-0-0"></a></h3>
<div class="section level4">
<h4 id="new-linters-3-0-0">New linters<a class="anchor" aria-label="anchor" href="#new-linters-3-0-0"></a></h4>
<ul><li>
<code><a href="../reference/backport_linter.html">backport_linter()</a></code> for detecting mismatched R version dependencies (<a href="https://github.com/r-lib/lintr/issues/506" class="external-link">#506</a>, <a href="https://github.com/r-lib/lintr/issues/1316" class="external-link">#1316</a>, <a href="https://github.com/r-lib/lintr/issues/1318" class="external-link">#1318</a>, <a href="https://github.com/r-lib/lintr/issues/1319" class="external-link">#1319</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/duplicate_argument_linter.html">duplicate_argument_linter()</a></code> similarly checks that there are no duplicate arguments supplied to function calls (<a href="https://github.com/r-lib/lintr/issues/850" class="external-link">#850</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a>).</li>
<li>
<code><a href="../reference/missing_argument_linter.html">missing_argument_linter()</a></code> to check for empty (missing) arguments in function calls (<a href="https://github.com/r-lib/lintr/issues/563" class="external-link">#563</a>, <a href="https://github.com/r-lib/lintr/issues/1152" class="external-link">#1152</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/missing_package_linter.html">missing_package_linter()</a></code> to check if packages in calls to <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> and friends are missing (<a href="https://github.com/r-lib/lintr/issues/536" class="external-link">#536</a>, <a href="https://github.com/r-lib/lintr/issues/1037" class="external-link">#1037</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a> and <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/namespace_linter.html">namespace_linter()</a></code> to check for common mistakes in <code>pkg::symbol</code> usages (<a href="https://github.com/r-lib/lintr/issues/548" class="external-link">#548</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a>).</li>
<li>
<code><a href="../reference/package_hooks_linter.html">package_hooks_linter()</a></code> to run a series of checks also done by <code>R CMD check</code> on the <code>.onLoad()</code>, <code>.onAttach()</code>, <code>.Last.lib()</code> and <code>.onDetach()</code> hooks (<a href="https://github.com/r-lib/lintr/issues/882" class="external-link">#882</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/pipe_call_linter.html">pipe_call_linter()</a></code> to enforce that all steps of <code>magrittr</code> pipelines use explicit calls instead of symbols, e.g. <code>x %&gt;% mean()</code> instead of <code>x %&gt;% mean</code> (<a href="https://github.com/r-lib/lintr/issues/801" class="external-link">#801</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/sprintf_linter.html">sprintf_linter()</a></code> to check for common mistakes in <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code> usage (<a href="https://github.com/r-lib/lintr/issues/544" class="external-link">#544</a>, <a href="https://github.com/r-lib/lintr/issues/624" class="external-link">#624</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/unused_import_linter.html">unused_import_linter()</a></code> to detect unnecessary <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> calls in R scripts (<a href="https://github.com/r-lib/lintr/issues/239" class="external-link">#239</a>, <a href="https://github.com/jimhester" class="external-link">@jimhester</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul><div class="section level5">
<h5 id="google-linters-3-0-0">Google linters<a class="anchor" aria-label="anchor" href="#google-linters-3-0-0"></a></h5>
<p>Google is a heavy user of lintr internally, and has developed a large set of linters improving code consistency and correcting common R usage mistakes. This release includes many of these linters that are of general interest to the broader R community. More will be included in future releases. See, e.g. <a href="https://github.com/r-lib/lintr/issues/884" class="external-link">#884</a>, <a href="https://github.com/r-lib/lintr/issues/979" class="external-link">#979</a>, <a href="https://github.com/r-lib/lintr/issues/998" class="external-link">#998</a>, <a href="https://github.com/r-lib/lintr/issues/1011" class="external-link">#1011</a>, <a href="https://github.com/r-lib/lintr/issues/1016" class="external-link">#1016</a>, <a href="https://github.com/r-lib/lintr/issues/1036" class="external-link">#1036</a>, <a href="https://github.com/r-lib/lintr/issues/1051" class="external-link">#1051</a>, <a href="https://github.com/r-lib/lintr/issues/1066" class="external-link">#1066</a>, and <a href="https://github.com/r-lib/lintr/issues/1067" class="external-link">#1067</a>; special thanks to <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/michaelquinn32" class="external-link">@michaelquinn32</a>.</p>
<ul><li>
<code><a href="../reference/any_duplicated_linter.html">any_duplicated_linter()</a></code> Require usage of <code>anyDuplicated(x) &gt; 0L</code> over <code>any(duplicated(x))</code> and similar.</li>
<li>
<code><a href="../reference/any_is_na_linter.html">any_is_na_linter()</a></code> Require usage of <code>anyNA(x)</code> over <code>any(is.na(x))</code>.</li>
<li>
<code><a href="../reference/class_equals_linter.html">class_equals_linter()</a></code> Prevent comparing <code>class(x)</code> with <code>==</code>, <code>!=</code>, or <code>%in%</code>, where <code><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits()</a></code> is typically preferred.</li>
<li>
<code><a href="../reference/condition_message_linter.html">condition_message_linter()</a></code> Prevent condition messages from being constructed like <code>stop(paste(...))</code> (where just <code>stop(...)</code> is preferable).</li>
<li>
<code><a href="../reference/conjunct_test_linter.html">conjunct_test_linter()</a></code> Require usage of <code>expect_true(x); expect_true(y)</code> over <code>expect_true(x &amp;&amp; y)</code> and similar.</li>
<li>
<code><a href="../reference/lintr-deprecated.html">consecutive_stopifnot_linter()</a></code> Require consecutive calls to <code><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot()</a></code> to be unified into one.</li>
<li>
<code><a href="../reference/expect_comparison_linter.html">expect_comparison_linter()</a></code> Require usage of <code>expect_gt(x, y)</code> over <code>expect_true(x &gt; y)</code> and similar.</li>
<li>
<code><a href="../reference/expect_identical_linter.html">expect_identical_linter()</a></code> Require usage of <code>expect_identical()</code> by default, and <code>expect_equal()</code> only by exception.</li>
<li>
<code><a href="../reference/expect_length_linter.html">expect_length_linter()</a></code> Require usage of <code>expect_length(x, n)</code> over <code>expect_equal(length(x), n)</code> and similar.</li>
<li>
<code><a href="../reference/expect_named_linter.html">expect_named_linter()</a></code> Require usage of <code>expect_named(x, n)</code> over <code>expect_equal(names(x), n)</code> and similar.</li>
<li>
<code><a href="../reference/expect_not_linter.html">expect_not_linter()</a></code> Require usage of <code>expect_false(x)</code> over <code>expect_true(!x)</code>, and <em>vice versa</em>.</li>
<li>
<code><a href="../reference/expect_null_linter.html">expect_null_linter()</a></code> Require usage of <code>expect_null(x)</code> over <code>expect_equal(x, NULL)</code> and similar.</li>
<li>
<code><a href="../reference/expect_s3_class_linter.html">expect_s3_class_linter()</a></code> Require usage of <code>expect_s3_class(x, k)</code> over <code>expect_equal(class(x), k)</code> and similar.</li>
<li>
<code><a href="../reference/expect_s4_class_linter.html">expect_s4_class_linter()</a></code> Require usage of <code>expect_s4_class(x, k)</code> over <code>expect_true(methods::is(x, k))</code>.</li>
<li>
<code><a href="../reference/expect_true_false_linter.html">expect_true_false_linter()</a></code> Require usage of <code>expect_true(x)</code> over <code>expect_equal(x, TRUE)</code> and similar.</li>
<li>
<code><a href="../reference/expect_type_linter.html">expect_type_linter()</a></code> Require usage of <code>expect_type(x, t)</code> over <code>expect_equal(typeof(x), t)</code> and similar.</li>
<li>
<code><a href="../reference/fixed_regex_linter.html">fixed_regex_linter()</a></code> Require <code>fixed = TRUE</code> or <code>stringr::fixed()</code> for regular expressions that can be expressed statically, e.g. <code>strsplit(x, "[.]")</code> can be <code>strsplit(x, ".", fixed = TRUE)</code>.
<ul><li>Added parameter <code>allow_grepl</code> (default <code>FALSE</code>) to toggle whether <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code> usages should be linted. These might be treated separately because <code>grepl("^x", NA)</code> is <code>FALSE</code>; the <code><a href="https://rdrr.io/r/base/startsWith.html" class="external-link">startsWith()</a></code> equivalent to get <code>FALSE</code> for missing input is clunkier, but more explicit: <code>!is.na(x) &amp; startsWith(x, string)</code> (<a href="https://github.com/r-lib/lintr/issues/1376" class="external-link">#1376</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/ifelse_censor_linter.html">ifelse_censor_linter()</a></code> Require usage of <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax()</a></code> / <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin()</a></code> where appropriate, e.g. <code>ifelse(x &gt; y, x, y)</code> is <code>pmax(x, y)</code>.</li>
<li>
<code><a href="../reference/inner_combine_linter.html">inner_combine_linter()</a></code> Require inputs to known-vectorized functions to be combined first rather than later, e.g. <code>as.Date(c(x, y))</code> over <code>c(as.Date(x), as.Date(y))</code>.</li>
<li>
<code><a href="../reference/literal_coercion_linter.html">literal_coercion_linter()</a></code> Require using correctly-typed literals instead of direct coercion, e.g. <code>1L</code> instead of <code>as.numeric(1)</code>.</li>
<li>
<code><a href="../reference/nested_ifelse_linter.html">nested_ifelse_linter()</a></code> Prevent nested calls to <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse()</a></code> like <code>ifelse(A, x, ifelse(B, y, z))</code>, and similar.</li>
<li>
<code><a href="../reference/numeric_leading_zero_linter.html">numeric_leading_zero_linter()</a></code> Require a leading <code>0</code> in fractional numeric constants, e.g. <code>0.1</code> instead of <code>.1</code>.</li>
<li>
<code><a href="../reference/outer_negation_linter.html">outer_negation_linter()</a></code> Require usage of <code>!any(x)</code> over <code>all(!x)</code> and <code>!all(x)</code> over <code>any(!x)</code>.</li>
<li>
<code><a href="../reference/paste_linter.html">paste_linter()</a></code> lint for common mis-use of <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste()</a></code> and <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code>:
<ul><li>
<code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code> encouraged instead of <code>paste(sep = "")</code>.</li>
<li>
<code><a href="https://rdrr.io/r/base/toString.html" class="external-link">toString()</a></code> or <code><a href="https://glue.tidyverse.org/reference/glue_collapse.html" class="external-link">glue::glue_collapse()</a></code> encouraged instead of <code>paste(x, collapse = ", ")</code>.</li>
<li>Lint <code>sep=</code> passed to <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code> – typically a mistake.</li>
</ul></li>
<li>
<code><a href="../reference/redundant_ifelse_linter.html">redundant_ifelse_linter()</a></code> Prevent usage like <code>ifelse(A &amp; B, TRUE, FALSE)</code> or <code>ifelse(C, 0, 1)</code> (the latter is <code>as.numeric(!C)</code>).</li>
<li>
<code><a href="../reference/regex_subset_linter.html">regex_subset_linter()</a></code> Require usage of <code>grep(ptn, x, value = TRUE)</code> over <code>x[grep(ptn, x)]</code> and similar.</li>
<li>
<code><a href="../reference/string_boundary_linter.html">string_boundary_linter()</a></code> Require usage of <code>startsWith(x, ptn)</code> over <code>grepl("^ptn", x)</code> or <code>substr(x, 1, 3) == ptn</code> and similar.</li>
<li>
<code><a href="../reference/strings_as_factors_linter.html">strings_as_factors_linter()</a></code> Check for code designed to work before and after the <code>stringsAsFactors = FALSE</code> default change in R 4.0 by examining code for <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> usages susceptible to assumptions about the default value of <code>stringsAsFactors=</code>.</li>
<li>
<code><a href="../reference/system_file_linter.html">system_file_linter()</a></code> Prevent usage like <code>file.path(system.file("A", package = "pkg"), "B")</code> where simply <code>system.file("A", "B", package = "pkg")</code> is more concise and readable.</li>
<li>
<code><a href="../reference/unreachable_code_linter.html">unreachable_code_linter()</a></code> Prevent code after <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> and <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> statements that will never be reached (extended for <a href="https://github.com/r-lib/lintr/issues/1051" class="external-link">#1051</a> thanks to early user testing, thanks <a href="https://github.com/bersbersbers" class="external-link">@bersbersbers</a>!).</li>
<li>
<code><a href="../reference/vector_logic_linter.html">vector_logic_linter()</a></code> Require use of scalar logical operators (<code>&amp;&amp;</code> and <code>||</code>) inside <code>if()</code> conditions and similar.</li>
<li>
<code><a href="../reference/yoda_test_linter.html">yoda_test_linter()</a></code> Require usage of <code>expect_identical(x, 1L)</code> over <code>expect_equal(1L, x)</code> and similar.</li>
</ul></div>
</div>
<div class="section level4">
<h4 id="other-features-and-improvements-3-0-0">Other features and improvements<a class="anchor" aria-label="anchor" href="#other-features-and-improvements-3-0-0"></a></h4>
<ul><li>
<strong>Documentation</strong>: Reorganize linter documentation into new tag-based Rd pages (<a href="https://github.com/r-lib/lintr/issues/888" class="external-link">#888</a>, <a href="https://github.com/r-lib/lintr/issues/1015" class="external-link">#1015</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).
<ul><li>Each linter has its own help page.</li>
<li>
<code><a href="../reference/linters.html">?linters</a></code> also links to tag help pages, collecting linters with a similar goal.</li>
<li>Each linter can have multiple tags.</li>
<li>
<code><a href="../reference/available_linters.html">available_linters()</a></code>: new function to list available linters and their tags. This feature is extensible by package authors providing add-on linters for {lintr}.</li>
<li>
<code><a href="../reference/available_linters.html">available_tags()</a></code>: new function to list available tags.</li>
<li>
<code><a href="../reference/linters_with_tags.html">linters_with_tags()</a></code>: new function to help build a list of linters using tags.</li>
</ul></li>
<li>
<strong>Encodings</strong>: lintr now supports non-system character Encodings. The correct encoding is auto-detected from .Rproj or DESCRIPTION files in your project. Override the default in the <code>encoding</code> setting of lintr (<a href="https://github.com/r-lib/lintr/issues/752" class="external-link">#752</a>, <a href="https://github.com/r-lib/lintr/issues/782" class="external-link">#782</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<strong>Jenkins CI</strong>: Support for writing comments to GitHub repo when running in Jenkins CI (<a href="https://github.com/r-lib/lintr/issues/488" class="external-link">#488</a>, <a href="https://github.com/fdlk" class="external-link">@fdlk</a>).</li>
<li>
<strong>Performance</strong>: Optimized performance-critical functions in lintr, such as <code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> resulting in about 2x speedup in our test suite and even more for complex files (<a href="https://github.com/r-lib/lintr/issues/1169" class="external-link">#1169</a>, <a href="https://github.com/r-lib/lintr/issues/1197" class="external-link">#1197</a>, <a href="https://github.com/r-lib/lintr/issues/1200" class="external-link">#1200</a>, <a href="https://github.com/r-lib/lintr/issues/1201" class="external-link">#1201</a>, <a href="https://github.com/r-lib/lintr/issues/1214" class="external-link">#1214</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>). Average <code><a href="../reference/lint.html">lint_package()</a></code> execution time is down about 30% and the median package sees about 40% improvement.</li>
<li>
<strong>Raw strings</strong>: Several linters tightened internal logic to allow for raw strings like <code>R"( a\string )"</code> (<a href="https://github.com/r-lib/lintr/issues/1034" class="external-link">#1034</a>, <a href="https://github.com/r-lib/lintr/issues/1285" class="external-link">#1285</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<strong>Selective exclusion syntax</strong>: New syntax to exclude only selected linters from certain lines or passages. Use <code># nolint: linter_name, linter2_name.</code> or <code># nolint start: linter_name, linter2_name.</code> in source files or named lists of line numbers in <code>.lintr</code>. Note the terminal <code>.</code> is required. Also allows for partial matching as long as the supplied prefix is unique, e.g. <code># nolint: infix_spaces.</code> works to exclude <code>infix_spaces_linter</code> (<a href="https://github.com/r-lib/lintr/issues/605" class="external-link">#605</a>, <a href="https://github.com/r-lib/lintr/issues/872" class="external-link">#872</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).
<ul><li>Added the linter name to lintrs output to facilitate discovery of the correct name (<a href="https://github.com/r-lib/lintr/issues/1357" class="external-link">#1357</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></li>
<li>Improved S3 generic detection for non-standard S3 generics where <code><a href="https://rdrr.io/r/base/UseMethod.html" class="external-link">UseMethod()</a></code> is called after several preceding expressions (<a href="https://github.com/r-lib/lintr/issues/846" class="external-link">#846</a>, <a href="https://github.com/jonkeane" class="external-link">@jonkeane</a>).</li>
<li>
<code><a href="../reference/lintr-deprecated.html">extraction_operator_linter()</a></code>: no longer lint <code>x[NULL]</code> (<a href="https://github.com/r-lib/lintr/issues/1273" class="external-link">#1273</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/is_lint_level.html">is_lint_level()</a></code>: new exported helper for readably explaining which type of expression is required for a custom linter. Some linters are written to require the full file’s parse tree (for example, <code><a href="../reference/lintr-deprecated.html">single_quotes_linter()</a></code>). Others only need single expressions, which is more cache-friendly (most linters are written this way to leverage caching) (<a href="https://github.com/r-lib/lintr/issues/921" class="external-link">#921</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/lint.html">lint_dir()</a></code> excludes the <code>renv</code> and <code>packrat</code> directories by default (<a href="https://github.com/r-lib/lintr/issues/697" class="external-link">#697</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code>: new optional argument <code>text</code> for supplying a line or lines directly, e.g. if the file is already in memory or linting is being done <em>ad hoc</em> (<a href="https://github.com/r-lib/lintr/issues/503" class="external-link">#503</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a>).</li>
<li>
<code><a href="../reference/seq_linter.html">seq_linter()</a></code>: improve lint message to be clearer about the reason for linting (<a href="https://github.com/r-lib/lintr/issues/522" class="external-link">#522</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code><a href="../reference/lintr-deprecated.html">unneeded_concatenation_linter()</a></code>:
<ul><li>Correctly considers arguments in pipelines (<code>%&gt;%</code> or <code>|&gt;</code>; <a href="https://github.com/r-lib/lintr/issues/573" class="external-link">#573</a>, <a href="https://github.com/r-lib/lintr/issues/1270" class="external-link">#1270</a>, <a href="https://github.com/michaelquinn32" class="external-link">@michaelquinn32</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>New argument <code>allow_single_expression</code>, default <code>TRUE</code>, toggling whether <code>c(x)</code> should be linted, i.e., a call to <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> with only one entry which is not a constant. In some such cases, <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> can simply be dropped, e.g. <code>c(a:b)</code>; in others, the parentheses are still needed, e.g. <code>-c(a:b)</code> should be <code>-(a:b)</code>; and in still others, <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> is used for the side-effect of stripping attributes, e.g. <code>c(factor(letters))</code> or <code>c(matrix(1:10, 5, 2))</code>. In this last case, <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> can (and should) in most cases be replaced by <code><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector()</a></code> or <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer()</a></code> for readability. In fact, we suspect it is <em>always</em> preferable to do so, and may change the default to <code>allow_single_expression = FALSE</code> in the future. Please report your use case if <code><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector()</a></code> does not suit your needs (<a href="https://github.com/r-lib/lintr/issues/1344" class="external-link">#1344</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/use_lintr.html">use_lintr()</a></code>: new exported helper for creating a minimal <code>.lintr</code> configuration (<a href="https://github.com/r-lib/lintr/issues/902" class="external-link">#902</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/xml_nodes_to_lints.html">xml_nodes_to_lints()</a></code>: new exported helper for converting <code>xml_node</code> objects obtained using linter logic expressed in XPath into <code>Lint</code> objects (<a href="https://github.com/r-lib/lintr/issues/1124" class="external-link">#1124</a>, <a href="https://github.com/r-lib/lintr/issues/1216" class="external-link">#1216</a>, <a href="https://github.com/r-lib/lintr/issues/1234" class="external-link">#1234</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="bug-fixes-3-0-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-3-0-0"></a></h3>
<ul><li>
<strong>RStudio</strong>: Source markers are cleared when there are no lints (<a href="https://github.com/r-lib/lintr/issues/520" class="external-link">#520</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Error message for mismatched starts and ends of exclusion ranges is now more helpful. (<a href="https://github.com/r-lib/lintr/issues/571" class="external-link">#571</a>, <a href="https://github.com/r-lib/lintr/issues/860" class="external-link">#860</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a> and <a href="https://github.com/danielinteractive" class="external-link">@danielinteractive</a>).</li>
<li>Improved location information for R parse errors (<a href="https://github.com/r-lib/lintr/issues/894" class="external-link">#894</a>, <a href="https://github.com/r-lib/lintr/issues/892" class="external-link">#892</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a> and <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code>:
<ul><li>Fix possible error on invalid XML produced by <code><a href="https://rdrr.io/pkg/xmlparsedata/man/xml_parse_data.html" class="external-link">xmlparsedata::xml_parse_data()</a></code> (<a href="https://github.com/r-lib/lintr/issues/559" class="external-link">#559</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a>).</li>
<li>Fix handling zero-length variable name error (<a href="https://github.com/r-lib/lintr/issues/566" class="external-link">#566</a>, <a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a>).</li>
<li>Malformed Rmd files now cause a lint instead of an error (<a href="https://github.com/r-lib/lintr/issues/571" class="external-link">#571</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>No longer fails if <code><a href="https://rdrr.io/r/utils/getParseData.html" class="external-link">getParseData()</a></code> returns a truncated (invalid) Unicode character as parsed text (<a href="https://github.com/r-lib/lintr/issues/815" class="external-link">#815</a>, <a href="https://github.com/leogama" class="external-link">@leogama</a>).</li>
<li>Fixes the <code>text</code> value for <code>STR_CONST</code> nodes involving 1- or 2-width octal escapes (e.g. <code>"\1"</code>) to account for an R parser bug (<a href="https://bugs.r-project.org/show_bug.cgi?id=18323" class="external-link uri">https://bugs.r-project.org/show_bug.cgi?id=18323</a>; <a href="https://github.com/r-lib/lintr/issues/1056" class="external-link">#1056</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Handle Rmd inputs containing unevaluated code blocks with named format specifiers (<a href="https://github.com/r-lib/lintr/issues/472" class="external-link">#472</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>).</li>
</ul></li>
<li>
<code><a href="../reference/line_length_linter.html">line_length_linter()</a></code>: fix a bug causing duplicate lints for lines containing multiple expressions (<a href="https://github.com/r-lib/lintr/issues/681" class="external-link">#681</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/lint.html">lint_package()</a></code>:
<ul><li>Warns and returns <code>NULL</code> if no package is found (instead of giving a peculiar error message; <a href="https://github.com/r-lib/lintr/issues/776" class="external-link">#776</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>Stricter about what is considered to be a package – folders named <code>DESCRIPTION</code> are ignored (<a href="https://github.com/r-lib/lintr/issues/702" class="external-link">#702</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
</ul></li>
<li>
<code><a href="../reference/linters_with_defaults.html">linters_with_defaults()</a></code> (formerly <code>with_defaults()</code>):
<ul><li>No longer duplicates the <code>lintr_function</code> class when it is already present (<a href="https://github.com/r-lib/lintr/issues/511" class="external-link">#511</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Warns if a named argument is <code>NULL</code> but its name is not in <code>defaults</code> (<a href="https://github.com/r-lib/lintr/issues/1049" class="external-link">#1049</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></li>
<li>
<code><a href="../reference/linters_with_defaults.html">linters_with_defaults()</a></code> handles automatic naming of very long arguments correctly (<a href="https://github.com/r-lib/lintr/issues/774" class="external-link">#774</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</li>
<li>
<code>save_cache()</code> will now recursively create the cache directory; this avoids errors that could arise if any parent directories do not exist (<a href="https://github.com/r-lib/lintr/issues/60" class="external-link">#60</a>, <a href="https://github.com/dankessler" class="external-link">@dankessler</a>).</li>
<li>
<code><a href="../reference/spaces_left_parentheses_linter.html">spaces_left_parentheses_linter()</a></code>: fix a bug causing warnings like “In <code>parent == parent[before_operator_idx]</code> longer object length is not a multiple of shorter object length” in nested expressions (<a href="https://github.com/r-lib/lintr/issues/654" class="external-link">#654</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="internals-3-0-0">Internals<a class="anchor" aria-label="anchor" href="#internals-3-0-0"></a></h3>
<ul><li>Added a new, more restrictive test workflow - <code>test-package</code> - that fails on warnings emitted by tests (<a href="https://github.com/r-lib/lintr/issues/1263" class="external-link">#1263</a>, <a href="https://github.com/r-lib/lintr/issues/1272" class="external-link">#1272</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>Added a secondary, more restrictive lint workflow - <code>lint-changed-files</code> - for newly written / modified code (<a href="https://github.com/r-lib/lintr/issues/641" class="external-link">#641</a>, <a href="https://github.com/dragosmg" class="external-link">@dragosmg</a>).</li>
<li>Several optional <code>Imported</code> packages have become <code>Suggested</code> dependencies: <code>httr</code>, <code>testthat</code>, and <code>rstudioapi</code>. This should allow snappier CI builds for usages not relying on some more “peripheral” features of the package.</li>
<li>Special thanks to <a href="https://github.com/bersbersbers" class="external-link">@bersbersbers</a> for early testing on the 3.0.0 changes.</li>
<li>Switched CI from Travis to GitHub Actions, using the full tidyverse recommended <code>R CMD check</code>. Code coverage and linting are implemented using separate GitHub Actions workflows (<a href="https://github.com/r-lib/lintr/issues/572" class="external-link">#572</a>, <a href="https://github.com/dragosmg" class="external-link">@dragosmg</a>).</li>
<li>Updated R CMD GitHub Actions workflow to check for R 3.6 on Ubuntu, instead of R 3.3, and for R 4.0 on Windows, instead of R 3.6 (<a href="https://github.com/r-lib/lintr/issues/803" class="external-link">#803</a>, @ dragosmg).</li>
<li>
<code>lintr</code> now uses the 3rd edition of <code>testthat</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>, <a href="https://github.com/r-lib/lintr/issues/910" class="external-link">#910</a>, <a href="https://github.com/r-lib/lintr/issues/967" class="external-link">#967</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.1" id="lintr-201">lintr 2.0.1<a class="anchor" aria-label="anchor" href="#lintr-201"></a></h2><p class="text-muted">CRAN release: 2020-02-19</p>
<div class="section level3">
<h3 id="new-features-2-0-1">New features<a class="anchor" aria-label="anchor" href="#new-features-2-0-1"></a></h3>
<ul><li>lintr now supports GitHub Actions and will print the lints as warning messages if lints are printed during an action.</li>
<li>
<code><a href="../reference/lint.html">lint_package()</a></code> will now lint vignettes and data-raw by default (<a href="https://github.com/r-lib/lintr/issues/447" class="external-link">#447</a>, <a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
<li>
<code><a href="../reference/lint.html">lint_dir()</a></code> will now include Rmd and Rnw files by default (<a href="https://github.com/AshesITR" class="external-link">@AshesITR</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="minor-fixes-and-features-2-0-1">Minor fixes and features<a class="anchor" aria-label="anchor" href="#minor-fixes-and-features-2-0-1"></a></h3>
<ul><li>
<code>single_quote_linter()</code> no longer causes a print issue when open quote appears at a column &gt; than close quote (<a href="https://github.com/r-lib/lintr/issues/457" class="external-link">#457</a>, <a href="https://github.com/jamieRowen" class="external-link">@jamieRowen</a>)</li>
<li>
<code><a href="../reference/absolute_path_linter.html">absolute_path_linter()</a></code> and <code><a href="../reference/nonportable_path_linter.html">nonportable_path_linter()</a></code> now handle file-paths that are wrapped with double-quotes (<a href="https://github.com/r-lib/lintr/issues/433" class="external-link">#433</a>, <a href="https://github.com/r-lib/lintr/issues/437" class="external-link">#437</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>).</li>
<li>
<code><a href="../reference/get_source_expressions.html">get_source_expressions()</a></code> has been changed to handle <code>expr_or_assign_or_help</code> tokens arising when parsing code containing equals-assignments in R-devel (<a href="https://github.com/r-lib/lintr/issues/403" class="external-link">#403</a>, <a href="https://github.com/r-lib/lintr/issues/456" class="external-link">#456</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>).</li>
<li>
<code>object_usage_linter</code> has been changed to ensure lint-position is indicated relative to the start of the file, rather than the start of a defining function (<a href="https://github.com/r-lib/lintr/issues/432" class="external-link">#432</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>).</li>
<li>
<code>commas_linter</code> now allows spaces to come before a comma when used to denote a fall-through in a switch statement (<a href="https://github.com/r-lib/lintr/issues/499" class="external-link">#499</a>, <a href="https://github.com/MrMallIronmaker" class="external-link">@MrMallIronmaker</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="lintr-200">lintr 2.0.0<a class="anchor" aria-label="anchor" href="#lintr-200"></a></h2><p class="text-muted">CRAN release: 2019-10-01</p>
<p>lintr 2.0.0 is a major release, and incorporates development changes since the last major release (1.0.0) in 2016-04-16.</p>
<div class="section level3">
<h3 id="deprecated-functions-2-0-0">Deprecated functions<a class="anchor" aria-label="anchor" href="#deprecated-functions-2-0-0"></a></h3>
<ul><li>Deprecated <code>camel_case_linter()</code>, <code>snake_case_linter()</code> and <code>multiple_dots_linter()</code> in favor of <code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> which enforce the given style: snake_case, dotted.case, lowerCamelCalse, UpperCamelCase, alllowercase or ALLUPPERCASE (<a href="https://github.com/r-lib/lintr/issues/59" class="external-link">#59</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>Deprecated absolute_paths_linter() in favor of the new <code><a href="../reference/absolute_path_linter.html">absolute_path_linter()</a></code>, with a lax mode for fewer false positive lints (<a href="https://github.com/r-lib/lintr/issues/199" class="external-link">#199</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="new-linters-2-0-0">New linters<a class="anchor" aria-label="anchor" href="#new-linters-2-0-0"></a></h3>
<ul><li>New <code><a href="../reference/cyclocomp_linter.html">cyclocomp_linter()</a></code> identifies overly complex functions (<a href="https://github.com/r-lib/lintr/issues/361" class="external-link">#361</a>, <a href="https://github.com/fabian-s" class="external-link">@fabian-s</a>)</li>
<li>New <code><a href="../reference/equals_na_linter.html">equals_na_linter()</a></code> (<a href="https://github.com/r-lib/lintr/issues/143" class="external-link">#143</a>, <a href="https://github.com/r-lib/lintr/issues/326" class="external-link">#326</a>, <a href="https://github.com/jabranham" class="external-link">@jabranham</a>)</li>
<li>New <code><a href="../reference/lintr-deprecated.html">extraction_operator_linter()</a></code> checks that the <code>[[</code> operator is used when extracting a single element from an object, not <code>[</code> (subsetting) nor <code>$</code> (interactive use) (<a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>New <code><a href="../reference/function_left_parentheses_linter.html">function_left_parentheses_linter()</a></code> to check that there is no space between a function name and its left parentheses (<a href="https://github.com/r-lib/lintr/issues/204" class="external-link">#204</a>, <a href="https://github.com/jrnold" class="external-link">@jrnold</a>).</li>
<li>New <code><a href="../reference/implicit_integer_linter.html">implicit_integer_linter()</a></code> detects round numbers not declared as integers, i.e. 1 instead of 1L (<a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>New <code><a href="../reference/nonportable_path_linter.html">nonportable_path_linter()</a></code> identifies paths constructed without file.path() (<a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>New <code>paren_brace_linter()</code> checks that there is a space between right parenthesis and an opening curly brace (<a href="https://github.com/bfgray3" class="external-link">@bfgray3</a>, <a href="https://github.com/r-lib/lintr/issues/242" class="external-link">#242</a>).</li>
<li>New <code><a href="../reference/pipe_continuation_linter.html">pipe_continuation_linter()</a></code> to ensure there is a space before %&gt;% and newline afterwards (<a href="https://github.com/r-lib/lintr/issues/216" class="external-link">#216</a>).</li>
<li>New <code>semicolon_terminator_linter()</code> reports semicolons at the end of a line (<a href="https://github.com/r-lib/lintr/issues/147" class="external-link">#147</a>,
<ol class="example" style="list-style-type: decimal"><li>and between expressions (<a href="https://github.com/r-lib/lintr/issues/181" class="external-link">#181</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
</ol></li>
<li>New <code><a href="../reference/seq_linter.html">seq_linter()</a></code>, finds <code>1:length(...)</code> (and similar) expressions (<a href="https://github.com/r-lib/lintr/issues/155" class="external-link">#155</a>, 1)</li>
<li>New <code><a href="../reference/todo_comment_linter.html">todo_comment_linter()</a></code> lints TODOs (<a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>New <code><a href="../reference/T_and_F_symbol_linter.html">T_and_F_symbol_linter()</a></code> warns when using T and F instead of TRUE and FALSE (<a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>New <code><a href="../reference/undesirable_operator_linter.html">undesirable_operator_linter()</a></code> and <code><a href="../reference/undesirable_function_linter.html">undesirable_function_linter()</a></code> lint uses of user-specified functions and operators (<a href="https://github.com/r-lib/lintr/issues/48" class="external-link">#48</a>, <a href="https://github.com/r-lib/lintr/issues/149" class="external-link">#149</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>New <code><a href="../reference/lintr-deprecated.html">unneeded_concatenation_linter()</a></code> lints uses of c() with a constant or no arguments (<a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-for-writing-linters-2-0-0">New functions for writing linters<a class="anchor" aria-label="anchor" href="#new-functions-for-writing-linters-2-0-0"></a></h3>
<ul><li>Export <code><a href="../reference/expect_lint.html">expect_lint()</a></code> (<a href="https://github.com/r-lib/lintr/issues/178" class="external-link">#178</a>, <a href="https://github.com/r-lib/lintr/issues/210" class="external-link">#210</a>)</li>
<li>Export <code><a href="../reference/ids_with_token.html">ids_with_token()</a></code> and <code><a href="../reference/ids_with_token.html">with_id()</a></code> (<a href="https://github.com/r-lib/lintr/issues/297" class="external-link">#297</a> <a href="https://github.com/stufield" class="external-link">@stufield</a>)</li>
<li>linters can use the XML parse tree as well now, via the <a href="https://github.com/MangoTheCat/xmlparsedata" class="external-link uri">https://github.com/MangoTheCat/xmlparsedata</a> package (<a href="https://github.com/r-lib/lintr/issues/154" class="external-link">#154</a>, 1)</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-for-users-2-0-0">New functions for users<a class="anchor" aria-label="anchor" href="#new-functions-for-users-2-0-0"></a></h3>
<ul><li>New <code><a href="../reference/lint.html">lint_dir()</a></code> function to lint files under a given directory (<a href="https://github.com/arekbee" class="external-link">@arekbee</a>, <a href="https://github.com/r-lib/lintr/issues/360" class="external-link">#360</a>)</li>
<li>New <code>summary.lints()</code> function to summarize the linter results (<a href="https://github.com/r-lib/lintr/issues/260" class="external-link">#260</a>, <a href="https://github.com/r-lib/lintr/issues/262" class="external-link">#262</a>, <a href="https://github.com/wlandau" class="external-link">@wlandau</a>).</li>
<li>New <code><a href="../reference/checkstyle_output.html">checkstyle_output()</a></code> function to output lints to checkstyle XML output (<a href="https://github.com/r-lib/lintr/issues/156" class="external-link">#156</a>, <a href="https://github.com/joshkgold" class="external-link">@joshkgold</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="linter-fixes-2-0-0">Linter fixes<a class="anchor" aria-label="anchor" href="#linter-fixes-2-0-0"></a></h3>
<ul><li>
<code>closed_curly_linter()</code> now allows closing parenthesis or comma after closing curly brace (<a href="https://github.com/r-lib/lintr/issues/167" class="external-link">#167</a>, <a href="https://github.com/Enchufa2" class="external-link">@Enchufa2</a>)</li>
<li>
<code><a href="../reference/commas_linter.html">commas_linter()</a></code> now handles missing arguments calls properly (<a href="https://github.com/r-lib/lintr/issues/145" class="external-link">#145</a>)</li>
<li>
<code><a href="../reference/commented_code_linter.html">commented_code_linter()</a></code> now relaxed, it no longer lints comments within roxygen blocks and does not consider “-” an R operator to avoid too many false positives.</li>
<li>
<code><a href="../reference/function_left_parentheses_linter.html">function_left_parentheses_linter()</a></code> now allows spaces if a function starts with a left parenthesis (<a href="https://github.com/r-lib/lintr/issues/311" class="external-link">#311</a>)</li>
<li>
<code><a href="../reference/lintr-deprecated.html">no_tab_linter()</a></code> now reports proper line in all cases (<a href="https://github.com/r-lib/lintr/issues/134" class="external-link">#134</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>)</li>
<li>
<code><a href="../reference/object_length_linter.html">object_length_linter()</a></code> argument <code>length</code> now defaults to 30 for consistency (<a href="https://github.com/r-lib/lintr/issues/325" class="external-link">#325</a> <a href="https://github.com/DragosMG" class="external-link">@DragosMG</a>)</li>
<li>
<code><a href="../reference/object_name_linter.html">object_name_linter()</a></code> now works when passed multiple styles (<a href="https://github.com/r-lib/lintr/issues/341" class="external-link">#341</a>, <a href="https://github.com/infotroph" class="external-link">@infotroph</a>)</li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> has been changed to better detect lexical scoping of global variables (<a href="https://github.com/r-lib/lintr/issues/27" class="external-link">#27</a>, <a href="https://github.com/r-lib/lintr/issues/336" class="external-link">#336</a>, <a href="https://github.com/r-lib/lintr/issues/91" class="external-link">#91</a>, <a href="https://github.com/r-lib/lintr/issues/382" class="external-link">#382</a>)</li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> now respects <code><a href="https://rdrr.io/r/utils/globalVariables.html" class="external-link">utils::globalVariables()</a></code>, so it can be used to avoid false positive warnings due to non-standard evaluation (<a href="https://github.com/r-lib/lintr/issues/352" class="external-link">#352</a>)</li>
<li>
<code><a href="../reference/object_usage_linter.html">object_usage_linter()</a></code> now ignores top level calls that contain function definitions (<a href="https://github.com/r-lib/lintr/issues/26" class="external-link">#26</a>).</li>
<li>
<code>object_linter*()</code>s now only lint objects declared in the current file (<a href="https://github.com/r-lib/lintr/issues/76" class="external-link">#76</a>, <a href="https://github.com/r-lib/lintr/issues/108" class="external-link">#108</a>, <a href="https://github.com/r-lib/lintr/issues/136" class="external-link">#136</a>, <a href="https://github.com/r-lib/lintr/issues/191" class="external-link">#191</a>, <a href="https://github.com/r-lib/lintr/issues/194" class="external-link">#194</a>, <a href="https://github.com/r-lib/lintr/issues/201" class="external-link">#201</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>
<code>open_curly_linter()</code> and <code>closed_curly_linter()</code> now do not lint double curly syntax (<a href="https://github.com/r-lib/lintr/issues/388" class="external-link">#388</a>)</li>
<li>
<code>open_curly_linter()</code> now allows comments after the curly braces (<a href="https://github.com/r-lib/lintr/issues/188" class="external-link">#188</a>)</li>
<li>
<code><a href="../reference/pipe_continuation_linter.html">pipe_continuation_linter()</a></code> now behaves better in nested expressions, functions etc. (<a href="https://github.com/r-lib/lintr/issues/366" class="external-link">#366</a> <a href="https://github.com/russHyde" class="external-link">@russHyde</a>)</li>
<li>
<code>space_inside_linter()</code> now reports proper line and column numbers (<a href="https://github.com/r-lib/lintr/issues/203" class="external-link">#203</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="general-improvements-and-fixes-2-0-0">General improvements and fixes<a class="anchor" aria-label="anchor" href="#general-improvements-and-fixes-2-0-0"></a></h3>
<ul><li>
<code><a href="../reference/expect_lint.html">expect_lint()</a></code> now no longer shows Rstudio markers and error messages are correctly preserved (<a href="https://github.com/r-lib/lintr/issues/180" class="external-link">#180</a>, <a href="https://github.com/r-lib/lintr/issues/211" class="external-link">#211</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>)</li>
<li>
<code><a href="../reference/lint-s3.html">Lint()</a></code> / <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> error now fixed (<a href="https://github.com/r-lib/lintr/issues/179" class="external-link">#179</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code> no longer errors with inline <code>\\Sexpr</code> (<a href="https://github.com/r-lib/lintr/issues/127" class="external-link">#127</a>).</li>
<li>
<code><a href="../reference/lint.html">lint()</a></code> no longer errors with ‘&lt;% %&gt;’ constructs (<a href="https://github.com/r-lib/lintr/issues/185" class="external-link">#185</a>).</li>
<li>
<code><a href="../reference/lint.html">lint_package()</a></code> now works with the cache, as intended (<a href="https://github.com/r-lib/lintr/issues/146" class="external-link">#146</a>, <a href="https://github.com/schloerke" class="external-link">@schloerke</a>)</li>
<li>
<code><a href="../reference/lint.html">lint_package()</a></code> now excludes <code>R/RcppExports.R</code> by default (<a href="https://github.com/r-lib/lintr/issues/282" class="external-link">#282</a>)</li>
<li>
<code><a href="../reference/lint.html">lint_package()</a></code> now removes fully excluded files as soon as possible</li>
<li>lintr now looks up its configuration in any parent directories as well as the package directory (<a href="https://github.com/r-lib/lintr/issues/238" class="external-link">#238</a>, <a href="https://github.com/r-lib/lintr/issues/345" class="external-link">#345</a>)</li>
<li>
<code>seq_linter</code> is now one of the default linters (<a href="https://github.com/r-lib/lintr/issues/316" class="external-link">#316</a>).</li>
<li>Fix issue in lintr’s compatibility with R-devel, due to to a new version of the PCRE library (<a href="https://github.com/r-lib/lintr/issues/411" class="external-link">#411</a>.)</li>
<li>
<code><a href="../reference/read_settings.html">read_settings()</a></code> now has a better error message when the config file does not end with a newline (<a href="https://github.com/r-lib/lintr/issues/160" class="external-link">#160</a>, <a href="https://github.com/r-lib/lintr/issues/189" class="external-link">#189</a>)</li>
<li>
<code><a href="../reference/expect_lint_free.html">expect_lint_free()</a></code> is now automatically skipped when run on covr (<a href="https://github.com/r-lib/lintr/issues/287" class="external-link">#287</a>)</li>
<li>Now lintr only tries to generate comments if running in wercker or travis CI (<a href="https://github.com/r-lib/lintr/issues/166" class="external-link">#166</a>)</li>
<li>Add support for overriding GitHub API Token via <code>GITHUB_TOKEN</code> environment variable (<a href="https://github.com/r-lib/lintr/issues/63" class="external-link">#63</a>, <a href="https://github.com/mattyb" class="external-link">@mattyb</a>)</li>
<li>Config files are now also searched for in the users’ home directory (<a href="https://github.com/r-lib/lintr/issues/266" class="external-link">#266</a>, <a href="https://github.com/randy3k" class="external-link">@randy3k</a>)</li>
<li>Fixed crash caused by ambiguous cache file paths (<a href="https://github.com/r-lib/lintr/issues/212" class="external-link">#212</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>).</li>
<li>RStudio addins to lint current source and project (fixes <a href="https://github.com/r-lib/lintr/issues/264" class="external-link">#264</a>, <a href="https://github.com/JhossePaul" class="external-link">@JhossePaul</a>)</li>
<li>Added proper handling of tab characters (fixes <a href="https://github.com/r-lib/lintr/issues/44" class="external-link">#44</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>)</li>
<li>lintr does not need the igraph package any more (<a href="https://github.com/r-lib/lintr/issues/152" class="external-link">#152</a>, 1)</li>
<li>Fixed cache not saved in a directory other than requested (<a href="https://github.com/r-lib/lintr/issues/213" class="external-link">#213</a>, <a href="https://github.com/fangly" class="external-link">@fangly</a>) avoid reading and pre-processing of ignored files (<a href="https://github.com/mwaldstein" class="external-link">@mwaldstein</a>)</li>
<li>Allow for any number of <code>#</code> to start a comment. Useful in ESS (<a href="https://github.com/r-lib/lintr/issues/299" class="external-link">#299</a>, <a href="https://github.com/prosoitos" class="external-link">@prosoitos</a>)</li>
<li>R Markdown files that do not contain chunks are no longer treated as code (<a href="https://github.com/r-lib/lintr/issues/370" class="external-link">#370</a>).</li>
<li>Fixed plain-code-block bug in Rmarkdown (<a href="https://github.com/r-lib/lintr/issues/252" class="external-link">#252</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>)</li>
<li>Fixed bug where non-R chunks using {lang} <code>engine format</code> were parsed from R-markdown (<a href="https://github.com/r-lib/lintr/issues/322" class="external-link">#322</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>)</li>
<li>Ensured <code>lintr</code> runs / installs / tests on R-3.6: pinned to github <code>xmlparsedata</code>; ensure vectors are length-1 when compared using <code>&amp;&amp;</code> and <code>||</code> (<a href="https://github.com/r-lib/lintr/issues/363" class="external-link">#363</a> <a href="https://github.com/r-lib/lintr/issues/377" class="external-link">#377</a> <a href="https://github.com/r-lib/lintr/issues/384" class="external-link">#384</a> <a href="https://github.com/r-lib/lintr/issues/391" class="external-link">#391</a>, <a href="https://github.com/russHyde" class="external-link">@russHyde</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.3" id="lintr-103">lintr 1.0.3<a class="anchor" aria-label="anchor" href="#lintr-103"></a></h2><p class="text-muted">CRAN release: 2018-11-08</p>
<ul><li>Fix tests to work with changes in the parser in R 3.6</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="lintr-102">lintr 1.0.2<a class="anchor" aria-label="anchor" href="#lintr-102"></a></h2><p class="text-muted">CRAN release: 2017-11-08</p>
<ul><li>Fix tests to work with upcoming testthat release.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="lintr-101">lintr 1.0.1<a class="anchor" aria-label="anchor" href="#lintr-101"></a></h2><p class="text-muted">CRAN release: 2017-08-10</p>
<ul><li>bugfix to work with knitr 1.16.7</li>
<li>
<code><a href="../reference/expect_lint_free.html">expect_lint_free()</a></code> now is always skipped on CRAN. This is necessary because the non-binary R source may not be available when running tests on CRAN, and those tests may not be run in the package directory.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="lintr-100">lintr 1.0.0<a class="anchor" aria-label="anchor" href="#lintr-100"></a></h2><p class="text-muted">CRAN release: 2016-04-16</p>
<ul><li>bugfix to work with testthat 1.0.0</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3" id="lintr-033">lintr 0.3.3<a class="anchor" aria-label="anchor" href="#lintr-033"></a></h2><p class="text-muted">CRAN release: 2015-09-15</p>
<ul><li>infix_spaces_linter now properly checks <code>=</code> in named arguments. (<a href="https://github.com/r-lib/lintr/issues/130" class="external-link">#130</a>, <a href="https://github.com/saurfang" class="external-link">@saurfang</a>).</li>
<li>commas_linter now properly recognizes lints when preceded by a blank line and points to the missing space rather than the comma (<a href="https://github.com/r-lib/lintr/issues/111" class="external-link">#111</a>, <a href="https://github.com/r-lib/lintr/issues/129" class="external-link">#129</a>, <a href="https://github.com/saurfang" class="external-link">@saurfang</a>).</li>
<li>Make spaces_left_parentheses_linter more robust when determining <code>(</code> type (<a href="https://github.com/r-lib/lintr/issues/128" class="external-link">#128</a>, <a href="https://github.com/saurfang" class="external-link">@saurfang</a>)</li>
<li>commented_code_linter (<a href="https://github.com/r-lib/lintr/issues/83" class="external-link">#83</a>, <a href="https://github.com/jackwasey" class="external-link">@jackwasey</a>)</li>
<li>Now trims long comments (<a href="https://github.com/r-lib/lintr/issues/55" class="external-link">#55</a>, reported by <a href="https://github.com/paulstaab" class="external-link">@paulstaab</a>)</li>
<li>Automatic commenting of GitHub commits and pull requests when linting on Travis-CI</li>
<li>expect_lint_free expectation can be added to testthat unit tests.</li>
<li>Robust configuration system and exclusion logic</li>
<li>Emacs and Sublime Text 3 plugins now available from their respective package repositories.</li>
<li>add <code>names.lints</code>, <code>split.lints</code> (<a href="https://github.com/r-lib/lintr/issues/49" class="external-link">#49</a>, <a href="https://github.com/ttriche" class="external-link">@ttriche</a>)</li>
<li>Fixed bug that caused vim syntastic plugin not to work properly in windows (<a href="https://github.com/r-lib/lintr/issues/46" class="external-link">#46</a>, <a href="https://github.com/abossenbroek" class="external-link">@abossenbroek</a>)</li>
<li>allow lintr customization per project using <code>.lintr</code> config files.</li>
<li>use <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">globalenv()</a></code> instead of <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">baseenv()</a></code> for default parent environment so that <code>methods</code> will be included.</li>
<li>do not check object usage if eval fails. Fixes (<a href="https://github.com/r-lib/lintr/issues/24" class="external-link">#24</a>, reported by <a href="https://github.com/fabian-s" class="external-link">@fabian-s</a>)</li>
<li>
<code>trailing_whitespace_linter</code> was reporting the incorrect line number</li>
<li>Use RStudio source marker API to display lints (<a href="https://github.com/r-lib/lintr/issues/37" class="external-link">#37</a>, <a href="https://github.com/jjallaire" class="external-link">@jjallaire</a>)</li>
<li>Permit single quotes if they quote literal double quotes (<a href="https://github.com/r-lib/lintr/issues/28" class="external-link">#28</a>, <a href="https://github.com/jackwasey" class="external-link">@jackwasey</a>)</li>
<li>
<code># nolint</code> comments are respected with caching (<a href="https://github.com/r-lib/lintr/issues/68" class="external-link">#68</a>, <a href="https://github.com/krlmlr" class="external-link">@krlmlr</a>)</li>
<li>Properly handle all knitr document formats</li>
<li>Allow for (( when linting (<a href="https://github.com/r-lib/lintr/issues/259" class="external-link">#259</a>, <a href="https://github.com/nathaneastwood" class="external-link">@nathaneastwood</a>)</li>
<li>Remove ^ from infix spaces to conform with tidyverse. (<a href="https://github.com/r-lib/lintr/issues/302" class="external-link">#302</a>, <a href="https://github.com/nathaneastwood" class="external-link">@nathaneastwood</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="lintr-020">lintr 0.2.0<a class="anchor" aria-label="anchor" href="#lintr-020"></a></h2><p class="text-muted">CRAN release: 2014-12-01</p>
<ul><li>Initial release</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jim Hester, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, Indrajeet Patil, Hugo Gruson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

